(this.webpackJsonpreact_movie_db_course=this.webpackJsonpreact_movie_db_course||[]).push([[0],{104:function(e,t,n){},119:function(e,t){},121:function(e,t){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},15:function(e,t,n){e.exports=n.p+"static/media/no_image.31f5bb1d.jpg"},168:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(67),o=n.n(c),i=n(4),l=n(9),s=n(1),u=(n(79),n(80),Object(a.createContext)()),m=(n(81),function(e){var t=Object(a.useContext)(u).logout;return r.a.createElement("button",{onClick:t},"Sign Out")});function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-3{fill:#252526}.cls-5{fill:#56555c}")),g=r.a.createElement("path",{d:"M199.94 412.82A160.34 160.34 0 0150.75 311.23c-3-7.62-6.3-15.51-8.08-23.63l-1.8-12.8c-15.49-6.28-26.4-20.94-30.12-35.46C6.23 221.66.69 195.63 0 172c-.53-18.77 10.38-36.4 27.17-43.87 11.67-5.2 27.35-9.55 46.73-13 12-26.56 25.94-49.75 40.68-67.63C140.6 16 169.31 0 199.94 0s59.33 16 85.33 47.52c14.6 17.7 28.42 40.65 40.36 66.95 19.38 3.31 35.21 7.67 47.19 13A45.67 45.67 0 01400 170.66c-.78 27.25-7.76 57.11-10.73 68.68-3.74 14.63-14.79 29.41-30.43 35.6L357 287.59c-1.78 8.09-4.88 16-7.86 23.58a160.22 160.22 0 01-149.2 101.65z",fill:"#fff"}),v=r.a.createElement("path",{d:"M198.9 30.14C270 30.14 327.59 182.9 327.59 254a128.69 128.69 0 11-257.39 0c0-71.1 57.62-223.86 128.7-223.86z",fill:"#fcfbfa"}),b=r.a.createElement("path",{className:"cls-3",d:"M362.08 153.43l-52.5 18.52s8.13 24.71 8.2 24.88 52.29-6.73 52.29-6.73zm-326.37 0l52.5 18.52s-8.13 24.71-8.2 24.88-52.29-6.73-52.29-6.73z"}),h=r.a.createElement("path",{d:"M144.87 149.06c13.19.2 16.07 11.17 16.55 13.78a215.77 215.77 0 013.28 27.06 34.65 34.65 0 01-.69 7.57 226.58 226.58 0 00-2.59-18.19c-.48-2.6-3.36-13.58-16.55-13.78-8-.12-33.55.8-59 4.48a360.93 360.93 0 016-17.26 445.49 445.49 0 0153-3.66zm182.47 99.22c-46.35-2.39-85.94-17.16-94.88-22.53-7-3.34-15.85-10.39-18.41-28-1.71 19.45 2 37.18 20.22 45.93 1.35.81 36.32 18.12 92.74 21.08.29-3.54.45-7.11.45-10.73.01-1.89-.04-3.8-.12-5.75zm-256.76 0c46.35-2.39 85.94-17.16 94.88-22.53 7-3.34 15.85-10.39 18.41-28 1.71 19.45-2 37.18-20.22 45.93-1.35.81-36.32 18.12-92.74 21.08-.29-3.54-.45-7.11-.45-10.73-.01-1.89.04-3.8.12-5.75zm182.2-99.22c-13.19.2-16.07 11.17-16.55 13.78a215.77 215.77 0 00-3.23 27.05 34.65 34.65 0 00.69 7.57c.66-6.54 1.59-12.78 2.59-18.19.48-2.6 3.36-13.58 16.55-13.78 8-.12 33.55.8 59 4.48a360.93 360.93 0 00-6-17.26 445.49 445.49 0 00-53.05-3.65z",fill:"#e0e0e0"}),E=r.a.createElement("path",{className:"cls-5",d:"M86.32 135.13C99 104.47 114.12 78 130.19 58.48 152 32 175.14 18.57 198.9 18.57s46.86 13.42 68.7 39.9c16.09 19.51 31.26 46 43.87 76.66l.62 1.49-1.6-.21c-4.45-.59-8.09-1-12.53-1.5l-.54-.06-.22-.5c-14.2-33.19-38.49-76.53-69.85-94.65-9.48-5.48-19.06-8.26-28.45-8.26s-19 2.78-28.45 8.26c-31.31 18.09-55.52 61.28-69.84 94.65l-.22.5-.54.06c-4.46.48-8.1.91-12.53 1.5l-1.6.21zm242.5 97.12c-3.48-.09-7-.23-10.48-.43l-1.08-.06-.14-1.07c-3.09-24.4-10.15-53-19.87-80.42l-.71-2 2.11.28c4 .54 7.88 1.12 11.58 1.75l.76.13.25.73c9.33 27.41 16 55.69 18.89 79.64l.18 1.49z"}),x=r.a.createElement("path",{className:"cls-3",d:"M317.34 170.43c-1.88-6.43-3.91-12.87-6.09-19.27l-.25-.73-.76-.13c-3.7-.63-7.6-1.21-11.58-1.75l-2.11-.28.71 2c2.16 6.09 4.17 12.23 6.05 18.37 6.75.76 10.57 1.3 14.03 1.79z"}),w=r.a.createElement("path",{className:"cls-5",d:"M68.52 230.24c2.85-24 9.56-52.24 18.89-79.64l.25-.73.76-.13c3.7-.62 7.59-1.21 11.58-1.75l2.11-.28-.71 2c-9.73 27.45-16.78 56-19.87 80.42l-.14 1.07-1.08.06c-3.48.2-7 .34-10.47.43h-1.5z"}),O=r.a.createElement("path",{className:"cls-3",d:"M88.43 149.73l-.76.13-.25.73c-2.18 6.41-4.22 12.87-6.1 19.31 6.53-.83 8.43-.73 13.88-1.31 1.92-6.31 4-12.63 6.21-18.88l.71-2-2.12.29c-4 .52-7.87 1.1-11.57 1.73z"}),j=r.a.createElement("path",{className:"cls-5",d:"M198.9 394.25a140.34 140.34 0 01-130.57-88.88 142.07 142.07 0 01-9.59-57.12v-.88h.88c4.58-.1 7.71-.24 11-.41l1-.05v1a127.72 127.72 0 008.5 52.23 127.41 127.41 0 00210.69 42.06 126.21 126.21 0 0026.84-42 127.66 127.66 0 008.5-52.24v-1l1 .05c4.55.23 7.69.33 11 .41h.88v.88a142.09 142.09 0 01-9.59 57.07 140.19 140.19 0 01-130.54 88.88z"}),k=r.a.createElement("path",{className:"cls-3",d:"M72 264.28a138.12 138.12 0 01-.34-16.81v-1l-1 .05c-3.29.17-6.42.3-11 .41h-.88v.88a149.06 149.06 0 00.38 16.87h.42c4.23-.07 8.36-.19 12.28-.38zm267-16.91h-.88c-3.31-.08-6.45-.17-11-.41l-1-.05v1a138.07 138.07 0 01-.32 16.65l12.84.55a148.91 148.91 0 00.38-16.86z"}),N=r.a.createElement("path",{className:"cls-3",d:"M346.25 250.67a305.5 305.5 0 01-79.48-10.24 191.73 191.73 0 01-32.49-11.81l-.26-.19c-21.85-10.47-22.71-31.49-20.68-50.63.51-4.83-1.25-11.24-6.36-14.63a14.46 14.46 0 00-16.06 0c-5.1 3.39-6.87 9.77-6.36 14.59 2 19.16 1.17 40.17-20.68 50.64l-.26.12a191.26 191.26 0 01-32.49 11.94 305.51 305.51 0 01-79.48 10.24h-.12A24.54 24.54 0 0128 232.1c-4.11-16-9.65-40.14-10.29-62.72a22.29 22.29 0 0113.19-21.06c30.18-13.44 91.25-18.43 117.3-18.06 9.58.14 17.94 3.59 24.2 10a65 65 0 0126.6-6.15 65 65 0 0126.54 6.12c4.43-4.53 12.17-9.85 24.2-10 15.63-.22 82.88 2.68 117.3 18a22.18 22.18 0 0113.19 21c-.65 22.63-6.18 46.86-10.29 62.9a24.54 24.54 0 01-23.52 18.58zM252.94 150c-12.65.19-15.25 10.87-15.65 13a216.32 216.32 0 00-3.29 26.94c-.12 10.32 3.58 17.4 11 21 27.6 12.31 59.68 18.39 98.06 18.58a6.51 6.51 0 006.34-4.85c3.65-14.26 8.57-35.46 9.13-54.94a4.58 4.58 0 00-2.72-4.33c-26.33-11.7-82.43-15.72-102.87-15.4zM42.1 165.44a4.58 4.58 0 00-2.72 4.33c.56 19.44 5.48 40.67 9.13 54.94a6.49 6.49 0 006.31 4.85c38.41-.19 70.51-6.28 98.13-18.6 7.39-3.6 11.08-10.69 11-21.05a214.6 214.6 0 00-3.3-26.9c-.39-2.14-3-12.82-15.65-13-12-.2-73.25 2.22-102.9 15.43z"}),y=function(e){var t=e.svgRef,n=e.title,a=f(e,["svgRef","title"]);return r.a.createElement("svg",d({id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 400 412.82",ref:t},a),n?r.a.createElement("title",null,n):null,p,g,v,b,h,E,x,w,O,j,k,N)},S=r.a.forwardRef((function(e,t){return r.a.createElement(y,d({svgRef:t},e))})),_=(n.p,Object(a.createContext)()),R=(n(82),function(){var e=Object(a.useContext)(_);return e.alerts.length>0&&e.alerts.map((function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-"+e.type},r.a.createElement("p",null,""!==e.msg?e.msg:"Some error"))}))}),A=n(7),C=n(8);function I(){var e=Object(A.a)(["\n  background: #1c1c1c;\n  padding: 0 2px;\n  box-sizing: border-box;\n  height: 10vh;\n  padding: 1vh 1vw;\n\n  .header-content {\n    max-width: 1280px;\n    height: 8vh;\n    margin: 0 auto;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    @media screen and (max-width: 500px) {\n      max-width: 1280px;\n      min-height: 0px;\n    }\n  }\n\n\n  .logo{\n    backgroundColor:white;\n    width: 50px;\n    height: 8vh;\n  }\n  .signinButtons{\n    font-family: 'Abel', sans-serif;\n    border-radius: 10px;\n    display: flex;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n  }\n  .logOutButton{\n    font-family: 'Abel', sans-serif;\n    border-radius: 10px;\n    display: flex;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    padding: 0px;\n  }\n  .loginInfo-container{\n    ","\n    flex-direction: column;\n    align-items: center;\n    padding: 10px;\n    width: 220px;\n    overflow: wrap;\n    text-align:right;\n    irems-align: right;\n    align-items: end;\n\n    position: relative;\n    box-sizing: border-box;\n    z-index: 200;\n  }\n  .loginInfo{\n    ","\n    transition: 0.5s;\n    ","\n    width: 220px;\n    overflow: hidden;\n    position: absolute;\n    top: 6vh;\n    left: -10px;\n    z-index:201;\n    background: #1f2735;\n\n    h1{\n    font-size: 16px;\n    margin: 0;\n    }\n  }\n  .hidden{\n    height: 0;\n    transition: 0.5s;\n  }\n  .menu-hidden{\n    color: white;\n    cursor: pointer;\n  }\n  .menu-shown{\n    color: #316aff;\n    corsor: pointer;\n  }\n  .logininfo-item{\n    overflow:visible;\n    height: 40px;\n    font-size: 13px;\n    display: flex;\n    font-family: arial;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    border-bottom: 1px solid white;\n    transition: 0.3s;\n  }\n  .logininfo-item:hover{\n    transition: 0.3s;\n    color: white;\n    background-color: #316aff;\n    cursor: pointer;\n    border-bottom: 1px solid white;\n  }\n  .logininfo-item{\n    background-color: black;\n\n    button{\n      border: none;\n      width: 100%;\n      height: 100%;\n    }\n    button:hover{\n      border: none;\n      border-radius: none;\n      background-color: #316aff;\n      color: white;\n\n\n    }\n  }\n"]);return I=function(){return e},e}var z=C.b.div(I(),"","",""),F=function(){var e=Object(a.useContext)(u),t=e.isAuthenticated,n=e.user;e.loadUser;Object(a.useEffect)((function(){}),[t,n]);var c=Object(a.useState)(!1),o=Object(s.a)(c,2),l=o[0],d=o[1],f=r.a.createElement("div",{className:l?"loginInfo":"loginInfo hidden"},n&&r.a.createElement(i.b,{to:"/user/"+n._id},r.a.createElement("div",{className:"logininfo-item"},"My account")),r.a.createElement("div",{className:"logininfo-item"},n?n.email:""),r.a.createElement("div",{className:"logininfo-item"},"Movies Rated : ",n?n.ratings.length:""),r.a.createElement("div",{className:"logininfo-item"},"Movies Reviewed : ",n?n.movies_reviewed.length:""),r.a.createElement("div",{className:"logininfo-item"},"Movies in Watchlist : ",n?n.watchlist.length:""),r.a.createElement("div",{className:"logininfo-item"},r.a.createElement(m,null))),p=function(){d(!l)};return r.a.createElement(z,null,r.a.createElement("div",{className:"header-content",style:{display:"flex",color:"white",justifyContent:"space-between"}},r.a.createElement(i.b,{to:"/",className:"logo"},r.a.createElement(S,{className:"logo"})),t?r.a.createElement("div",{className:"loginInfo-container",onClick:p},r.a.createElement("i",{className:l?"fa fa-user menu-shown":"fa fa-user menu-hidden","aria-hidden":"true",onClick:p}),f):r.a.createElement("div",{className:"signinButtons"},r.a.createElement(i.b,{to:"/signin",style:{marginRight:"5px"}},"Sign In "),r.a.createElement("a",{href:"/"}," | "),r.a.createElement(i.b,{to:"/signup",style:{marginLeft:"5px"}}," Signup"))))},L=n(18),M=n.n(L);function T(){var e=Object(A.a)(["\n  background: #1c1c1c;\n  padding: 0 20px;\n  box-sizing: border-box;\n  font-family: 'Abel', sans-serif;  \n  min-height:10vh;\n  a{\n      color: white;\n      text-decoration: none;\n      font-size:22px;\n\n  }\n  .footer-content {\n    max-width: 1280px;\n    min-height: 30px;\n    height: 10vh;\n    padding: 0.5vh  0;\n    \n    a{\n      font-size: 22px;;\n    }\n    margin: 0 auto;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    @media screen and (max-width: 500px) {\n      max-width: 1280px;\n      min-height: 0px;\n    }\n  }\n"]);return T=function(){return e},e}var D=C.b.div(T()),U=function(){return r.a.createElement(D,null,r.a.createElement("div",{className:"footer-content"},r.a.createElement("a",{href:"https://github.com/AditiDey",target:"_blank"},"Made with \u2764 by Aditi"),r.a.createElement("a",{href:"https://github.com/AditiDey/movierecommendation",target:"_blank"},r.a.createElement(M.a,{className:"fa fa-github",name:"clock-o"}))))},P=n(5),B=n.n(P),G="https://api.themoviedb.org/3/",q="33bb8436c172b0643a6db970caa59640",W="http://image.tmdb.org/t/p/",J="".concat(G,"search/movie?api_key=").concat(q,"&query="),H="".concat(G,"movie/popular?api_key=").concat(q);function Z(){var e=Object(A.a)(["\n  background: ",";\n  background-size: 100%, cover !important;\n  background-position: center, center !important;\n  width: 100%;\n  height: 80vh;\n  position: relative;\n  animation: animateHeroimage 1s;\n\n  .heroimage-content {\n    max-width: 1280px;\n    padding: 20px;\n    margin: 0 auto;\n  }\n\n  .heroimage-text {\n    z-index: 100;\n    max-width: 700px;\n    position: absolute;\n    bottom: 40px;\n    margin-right: 20px;\n    min-height: 100px;\n    background: rgba(0, 0, 0, 0);\n    color: #fff;\n\n    h1 {\n      font-family: 'Abel', sans-serif;\n      font-size: 48px;\n      color: #fff;\n\n      @media screen and (max-width: 720px) {\n        font-size: 38px;\n        color: #fff;\n      }\n    }\n\n    p {\n      font-family: 'Abel', sans-serif;\n      font-size: 22px;\n      line-height: 26px;\n      color: #fff;\n\n      @media screen and (max-width: 720px) {\n        font-size: 16px;\n        line-height: 20px;\n        color: #fff;\n      }\n    }\n\n    @media screen and (max-width: 720px) {\n      max-width: 100%;\n    }\n  }\n\n  @keyframes animateHeroimage {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n"]);return Z=function(){return e},e}var V=C.b.div(Z(),(function(e){return"linear-gradient(\n      to bottom, rgba(0,0,0,0)\n      39%,rgba(0,0,0,0)\n      41%,rgba(0,0,0,0.65)\n      100%\n    ),\n    url('".concat(e.image,"'), #1c1c1c")})),Y=function(e){var t=e.image,n=e.title,a=e.text;return r.a.createElement(V,{image:t},r.a.createElement("div",{className:"heroimage-content"},r.a.createElement("div",{className:"heroimage-text"},r.a.createElement("h1",null,n),r.a.createElement("p",null,a))))};function $(){var e=Object(A.a)(["\n  max-width: 1280px;\n  width: 100%;\n  height: 7vh;\n  background: #353535;\n  margin: 0 auto;\n  border-radius: 40px;\n  position: relative;\n  color: #fff;\n  .search-content{\n    border:1px solid red;\n  }\n  .fa-search {\n    font-size: 3vh;\n    position: absolute;\n    left:30px;\n    top: 2vh;\n    color: #fff;\n    z-index: 1000;\n  }\n\n  input {\n    font-family: 'Abel', sans-serif;\n    position: absolute;\n    height: 7vh;\n    left: 0px;\n    ","\n    padding: 0 0 0 60px;\n    border: 0;\n    width: 95%;\n    background: transparent;\n    color: #fff;\n    box-sizing: border-box;\n    font-size:22px;\n\n    :focus {\n      outline: none;\n    }\n\n    @media screen and (max-width: 720px) {\n      font-size: 28px;\n    }\n  }\n"]);return $=function(){return e},e}function K(){var e=Object(A.a)(["\n  width: 100%;\n  height: 10vh;\n  background: #1c1c1c;\n  padding: 1.5vh 20px 1.5vh 20px;\n  box-sizing: border-box;\n  color: #fff;\n"]);return K=function(){return e},e}var Q=C.b.div(K()),X=C.b.div($(),""),ee=function(e){var t=e.callback,n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],i=c[1],l=Object(a.useRef)(null);return r.a.createElement(Q,null,r.a.createElement(X,null,r.a.createElement(M.a,{className:"fa-search",name:"search",size:"2x"}),r.a.createElement("input",{type:"text",placeholder:"Search movies",onChange:function(e){var n=e.target.value;clearTimeout(l.current),i(n),l.current=setTimeout((function(){return t(n)}),500)},value:o})))};function te(){var e=Object(A.a)(["\n  display: grid;\n  grid-template-columns: repeat(5, minmax(100px, 1fr));\n  grid-gap: 40px;\n  position: relative;\n\n  .grid-element {\n    animation: animateGrid 0.5s;\n  }\n\n  @keyframes animateGrid {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  @media screen and (max-width: 1024px) {\n    grid-template-columns: repeat(4, minmax(100px, 1fr));\n  }\n\n  @media screen and (max-width: 768px) {\n    grid-template-columns: repeat(3, minmax(100px, 1fr));\n  }\n\n  @media screen and (max-width: 600px) {\n    grid-template-columns: repeat(2, minmax(100px, 1fr));\n  }\n\n  @media screen and (max-width: 375px) {\n    grid-template-columns: repeat(1, 1fr);\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(A.a)(["\n  max-width: 1280px;\n  margin:  auto;\n  padding: 0 20px;\n  h1 {\n    font-family: 'Abel', sans-serif;\n    font-size: 42px;\n    margin-top: 0;\n\n    @media screen and (max-width: 768px) {\n      font-size: 22px;\n    }\n  }\n"]);return ne=function(){return e},e}var ae=C.b.div(ne()),re=C.b.div(te()),ce=function(e){var t=e.header,n=e.children;return r.a.createElement(ae,null,r.a.createElement("h1",null,t),r.a.createElement(re,null,n))};function oe(){var e=Object(A.a)(["\n  background: #000;\n  width: 25%;\n  min-width: 200px;\n  height: 70px;\n  color: #fff;\n  cursor: pointer;\n  transition: all 0.3s;\n  border-radius: 40px;\n  font-family: 'Abel', sans-serif;\n  font-size: 28px;\n  max-width: 1280px;\n  display: block;\n  margin: 20px auto;\n  padding: 0 20px;\n  outline: none;\n\n  :hover {\n    opacity: 0.8;\n    border: 3px solid black;\n  }\n"]);return oe=function(){return e},e}var ie=C.b.button(oe()),le=function(e){var t=e.text,n=e.callback;return r.a.createElement(ie,{type:"button",onClick:n},t)};function se(){var e=Object(A.a)(["\n  border: 5px solid #f3f3f3; /* Light grey */\n  border-top: 5px solid #16d47b; /* Blue */\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n  animation: spin 0.8s linear infinite;\n  margin: 20px auto;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]);return se=function(){return e},e}var ue=C.b.div(se()),me=function(){return r.a.createElement(ue,null)};function de(){var e=Object(A.a)(["\n  img {\n    width: 100%;\n    height: auto;\n    /* max-height: 350px; */\n    transition: all 0.3s;\n    object-fit: cover;\n    border-radius: 20px;\n    position:relative;\n\n    :hover {\n      opacity: 0.8;\n    }\n\n     ","\n\n    .clickable {\n      cursor: pointer;\n    }\n  }\n"]);return de=function(){return e},e}var fe=C.b.div(de(),""),pe=function(e){var t=e.image,n=e.movieId,a=e.clickable;return r.a.createElement(i.b,{to:"/movie/"+n},r.a.createElement(fe,null,a?r.a.createElement("img",{className:"clickable",src:t,alt:"movie Thumbnail"}):r.a.createElement("img",{src:t,alt:"movie Thumbnail non clickable"})))},ge=(n(104),function(e){var t=e.collections,n=e.handelClick;return r.a.createElement("div",{className:"selections"},r.a.createElement("div",{className:"selections-container"},t.map((function(e){return r.a.createElement("button",{value:e,onClick:n,key:e,className:"selections-item"},e)}))))}),ve=n(3),be=n.n(ve),he=n(2),Ee=n(6),xe=(n(106),function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!0),i=Object(s.a)(o,2),l=i[0],u=i[1],m=Object(a.useState)(!1),d=Object(s.a)(m,2),f=d[0],p=d[1],g=Object(a.useCallback)(Object(Ee.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),u(!0),e.prev=2,"/api/reviews/feed",e.next=6,B.a.get("/api/reviews/feed");case 6:t=e.sent,console.log("resilt in useFetchFeed = ",t),c(Object(he.a)({},t)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0.message),p(!0);case 15:u(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])}))),[e]);return Object(a.useEffect)((function(){console.log("making an api req for getting the feed"),g()}),[g,e]),Object(a.useEffect)((function(){sessionStorage.setItem("feed",JSON.stringify(r))}),[e,r]),[r,l,f]}),we=(n(137),function(e){var t=1900+(e=new Date(e)).getYear(),n=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],a=e.getDate(),r=(e.getDay(),String(a)+" "+String(n)+" "+String(t)),c=e.getTime();return[r,function(e){var t=Math.floor(e/864e5),n=Math.floor(t/7),a=Math.floor(t/30),r=Math.floor(a/12);return 0!==r?r+" years ago":0!==a?a+" month ago":0!==n?n+" month ago":0!==t?t+" month ago":0===t?"Today":void 0}((new Date).getTime()-c)]}),Oe=function(e){var t=e.review;return t.movie_data?r.a.createElement("div",{className:"feeditem"},r.a.createElement(i.b,{to:"/movie/"+t.movie_data.id},r.a.createElement("img",{src:t.movie_data.poster_path?"".concat(W).concat("w500").concat(t.movie_data.poster_path):""})),r.a.createElement("div",{className:"feed-info"},r.a.createElement("div",{className:"movie-title"},t.movie_data.original_title),r.a.createElement("div",{className:"username"},r.a.createElement(i.b,{to:"/user/"+t.userID},r.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),"  ",t.username)),r.a.createElement("div",{className:"postedAt"},r.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"}),"   ",r.a.createElement("span",null,we(t.date)[0])),r.a.createElement("div",{className:"review-text"},r.a.createElement("p",null,t.review.length>150?r.a.createElement("span",null,r.a.createElement("strong",null,"Review :"),"   ",t.review.slice(0,250),"  ",r.a.createElement(i.b,{to:"/movie/"+t.tmdbMovieId}," Read More... ")," "):r.a.createElement("span",null,r.a.createElement("strong",null,"Review :")," ",t.review))))):""},je=(n(138),function(){var e=xe(),t=Object(s.a)(e,3),n=t[0],a=t[1],c=t[2];return c?r.a.createElement("div",null,"Something went wrong ",r.a.createElement("br",null),"this is the error ---- ",c):a?r.a.createElement(me,null):(console.log("Feed in feed.jsx ==> ",n),r.a.createElement("div",{class:"feed-container"},r.a.createElement("h1",null," Feed "),r.a.createElement("div",{className:"feed"},n.data.map((function(e){return r.a.createElement(Oe,{review:e})})))))}),ke=n(15),Ne=n.n(ke),ye=(n(139),function(e){var t=Object(a.useContext)(u),n=Object(a.useContext)(_),c=t.user,o=t.loading,l=t.setLoadingtrue,m=t.setLoadingFalse,d=(t.ratings,t.loadUser),f=t.isAuthenticated,p=n.setAlert;Object(a.useEffect)((function(){d(),console.log("user = ",c),c&&console.log("user.ratings = ",c.ratings)}),[f]);var g=Object(a.useState)([]),v=Object(s.a)(g,2),b=v[0],h=v[1];Object(a.useEffect)((function(){console.log("The use effect for recommendations was called"),console.log("recommendations in state => ",b)}),[b]);var E=function(){var e=Object(Ee.a)(be.a.mark((function e(t){var n,a,r,o,i,s,u,d,f,g;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("target.value = ",t.target.value),n=t.target.value,l(),a=c.ratings,e.next=7,JSON.stringify(n);case 7:return e.t0=e.sent,e.next=10,JSON.stringify(c._id);case 10:return e.t1=e.sent,e.next=13,JSON.stringify(a);case 13:return e.t2=e.sent,r={recommender_type:e.t0,userID:e.t1,ratings:e.t2},e.prev=15,o={headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}},console.log("userID = ",r.userID),console.log("Ratings = ",r.ratings),e.next=21,JSON.stringify(r);case 21:if(r=e.sent,i=[],"userBasedCF"!==n){e.next=30;break}return console.log("making pst request to 'https://keepwatching-server.herokuapp.com/recommendations/usercolaborativefiltering'"),e.next=27,B.a.post("https://keepwatching-server.herokuapp.com/recommendations/usercolaborativefiltering",r,o);case 27:i=e.sent,e.next=34;break;case 30:return console.log("making pst request to 'https://keepwatching-server.herokuapp.com/recommendations/itemcolaborativefiltering'"),e.next=33,B.a.post("https://keepwatching-server.herokuapp.com/recommendations/itemcolaborativefiltering",r,o);case 33:i=e.sent;case 34:console.log("recommendations = ",i.data),console.log("Recommendations id recieved ---\x3e  making the tmdb api calls"),s=[],l(),e.prev=38,u=0;case 40:if(!(u<i.data.length)){e.next=53;break}return d=i.data[u],f="".concat(G,"movie/").concat(d,"?api_key=").concat(q),e.next=45,fetch(f);case 45:return e.next=47,e.sent.json();case 47:g=e.sent,console.log("results after the movie call = ",g),s.push(g);case 50:u++,e.next=40;break;case 53:e.next=58;break;case 55:e.prev=55,e.t3=e.catch(38),console.log("some error in the for loop in the recommendations.jsx");case 58:return h(s),console.log("All the api calls success : - setting loading to false"),m(),e.abrupt("return");case 64:e.prev=64,e.t4=e.catch(15),m(),console.log("error in the catch block of the attempt to fetch recommendations block in the recommendations.jsx"),console.log("error = ",e.t4.message);case 69:m(),e.next=76;break;case 72:e.prev=72,e.t5=e.catch(0),m(),"Cannot read property 'ratings' of null"===e.t5.message?p("Please Login to use this feature"):(console.log("error in the catch block of generateRecommendations in recommendationpage.jsx"),console.log("error = ",e.t5.message));case 76:case"end":return e.stop()}}),e,null,[[0,72],[15,64],[38,55]])})));return function(t){return e.apply(this,arguments)}}();return 0===b.length||o?r.a.createElement("div",{className:"recommendation-container"},r.a.createElement("div",{className:"recommendations"},r.a.createElement("h1",null,"Recommendation"),r.a.createElement(R,null),!f&&r.a.createElement(i.b,{to:"/signin"},"Sign in to Get Recommendations"),o?r.a.createElement(me,null):r.a.createElement("div",null,r.a.createElement("button",{onClick:E,value:"userBasedCF",className:"generateRecBtn"},"Generate User Based Collaborative Filtering Recommendations"),r.a.createElement("button",{onClick:E,value:"itemBasedCF",className:"generateRecBtn"},"Generate Item Based Collaborative Filtering Recommendations")))):0!==b.length?r.a.createElement("div",{className:"recommendation-route"},r.a.createElement(ce,{header:"Recommended Movies are:"},b.map((function(e){return r.a.createElement(pe,{key:e.id,clickable:!0,image:e.poster_path?"".concat(W).concat("w500").concat(e.poster_path):Ne.a,movieId:e.id,movieName:e.original_title})})))):void 0}),Se=n(25),_e=function(e){var t=Object(a.useState)({movies:[]}),n=Object(s.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1],m=Object(a.useState)(!1),d=Object(s.a)(m,2),f=d[0],p=d[1],g=function(){var e=Object(Ee.a)(be.a.mark((function e(t){var n,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),p(!1),n=t.search("page"),e.prev=3,e.next=6,fetch(t);case 6:return e.next=8,e.sent.json();case 8:a=e.sent,c((function(e){return Object(he.a)(Object(he.a)({},e),{},{movies:-1!==n?[].concat(Object(Se.a)(e.movies),Object(Se.a)(a.results)):Object(Se.a)(a.results),heroImage:e.heroImage||a.results[0],currentPage:a.page,totalPages:a.total_pages})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),p(!0),console.error(e.t0.message);case 16:u(!1);case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){sessionStorage.homeState?(c(JSON.parse(sessionStorage.homeState)),u(!1)):(console.log("Fetching from the movie db api"),g(H))}),[]),Object(a.useEffect)((function(){e||sessionStorage.setItem("homeState",JSON.stringify(r))}),[e,r]),[{state:r,loading:l,error:f},g]},Re=function(){var e=Object(a.useContext)(u),t=(e.isAuthenticated,e.loadUser),n=Object(a.useState)("Popular Movies"),c=Object(s.a)(n,2),o=c[0],i=c[1],l=Object(a.useState)(0),m=Object(s.a)(l,2);m[0],m[1];Object(a.useEffect)((function(){t(),B.a.get("https://keepwatching-server.herokuapp.com/")}),[]);var d=Object(a.useState)(""),f=Object(s.a)(d,2),p=f[0],g=f[1],v=_e(p),b=Object(s.a)(v,2),h=b[0],E=h.state,x=h.loading,w=h.error,O=b[1],j=Object(a.useState)({image:"",title:"",text:""}),k=Object(s.a)(j,2);k[0],k[1];return w?r.a.createElement("div",null," Something went wromg ...."):E.movies[0]?r.a.createElement("div",null,!p&&r.a.createElement(Y,{image:"".concat(W).concat("w1280").concat(E.heroImage.backdrop_path),title:E.heroImage.original_title,text:E.heroImage.overview}),r.a.createElement(ee,{callback:function(e){var t=e?J+e:H;g(e),O(t)}}),r.a.createElement(ge,{handelClick:function(e){i(e.target.value)},collections:["Popular Movies","Feed","Recommendations"]}),"Popular Movies"===o&&r.a.createElement(ce,{header:p?"Search Results:":"Popular Movies"},E.movies.map((function(e){return r.a.createElement(pe,{key:e.id,clickable:!0,image:e.poster_path?"".concat(W).concat("w500").concat(e.poster_path):Ne.a,movieId:e.id,movieName:e.original_title})})),x||r.a.createElement(le,{text:"Load More",callback:function(){var e="".concat(J).concat(p,"&page=").concat(E.currentPage+1),t="".concat(H,"&page=").concat(E.currentPage+1);O(""!==p?e:t)}})),"Feed"===o&&r.a.createElement(je,null),"Recommendations"===o&&r.a.createElement(ye,null),x&&r.a.createElement(me,null)):r.a.createElement(me,null)};function Ae(){var e=Object(A.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 70px;\n  background: #353535;\n  color: #fff;\n\n  .navigation-content {\n    max-width: 1280px;\n    margin: 0 auto;\n    padding: 0 20px;\n    width: 100%;\n\n    p {\n      font-family: 'Abel', sans-serif;\n      font-size: 22px;\n      float: left;\n      color: #fff;\n      padding-right: 10px;\n      text-decoration: none;\n\n      @media screen and (max-width: 768px) {\n        font-size: 16px;\n      }\n    }\n  }\n"]);return Ae=function(){return e},e}C.b.div(Ae());function Ce(){var e=Object(A.a)(["\n  background: ",";\n  background-size: cover !important;\n  background-position: center !important;\n  width: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n  animation: animateMovieinfo 1s;\n  height: 80vh;\n\n  .movieinfo-content {\n    max-width: 1280px;\n    min-height: 450px;\n    margin: 0 auto;\n    background: rgb(0, 0, 0, 0.7);\n    border-radius: 20px;\n    position: relative;\n  }\n\n  .movieinfo-thumb {\n    min-height: 450px;\n    width: 300px;\n    float: left;\n\n    @media screen and (max-width: 768px) {\n      width: 100% !important;\n    }\n  }\n\n  .movieinfo-text {\n    font-family: Arial, Helvetica, sans-serif;\n    padding: 40px;\n    color: #fff;\n    overflow: hidden;\n\n    h1 {\n      font-family: 'Abel', sans-serif;\n      font-size: 48px;\n      margin: 0;\n\n      @media screen and (max-width: 1000px) {\n        font-size: 32px !important;\n      }\n    }\n\n    h3 {\n      font-size: 16px;\n      line-height: 0;\n      margin-top: 30px;\n    }\n\n    p {\n      font-family: 'Abel', sans-serif;\n      font-size: 18px;\n      line-height: 26px;\n    }\n  }\n\n  .rating-director {\n    display: flex;\n    color:white;\n    font-family: 'Abel', sans-serif;\n    justify-content: flex-start;\n  }\n\n  .score {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 35px;\n    height: 35px;\n    background: #fff;\n    color: #000;\n    font-weight: 800;\n    border-radius: 25px;\n    margin: 0px 0 0 0;\n  }\n\n  .director {\n    margin: 0 0 0 40px;\n\n    p {\n      margin: 0;\n    }\n  }\n\n  @media screen and (max-width: 768px) {\n    min-height: 600px;\n    height: auto;\n  }\n\n  @keyframes animateMovieinfo {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n"]);return Ce=function(){return e},e}var Ie=C.b.div(Ce(),(function(e){return e.backdrop?"url('".concat(W).concat("w1280").concat(e.backdrop,"')"):"#000"})),ze=function(e){var t=e.movie;return r.a.createElement(Ie,{backdrop:t.backdrop_path},r.a.createElement("div",{className:"movieinfo-content"},r.a.createElement("div",{className:"movieinfo-thumb"},r.a.createElement(pe,{image:t.poster_path?"".concat(W).concat("w500").concat(t.poster_path):Ne.a,clickable:!1})),r.a.createElement("div",{className:"movieinfo-text"},r.a.createElement("h1",null,t.title),r.a.createElement("h3",null,"plot"),r.a.createElement("p",null,t.overview," "),r.a.createElement("div",{className:"rating-director"},r.a.createElement("div",null,r.a.createElement("h3",null,"IMDB Rating"),r.a.createElement("div",{className:"score"},t.vote_average)),r.a.createElement("div",{className:"director"},r.a.createElement("h3",null,"DIRECTOR",t.directors.length>1?"S":""),r.a.createElement("div",{className:""}," ",t.directors.map((function(e){return r.a.createElement("p",{key:e.credit_id},e.name)}))))))))},Fe=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e)};function Le(){var e=Object(A.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: 50px;\n  height: 10vh\n  height: auto;\n  background: #1c1c1c;\n  padding: 10px 20px;\n  box-sizing: border-box;\n  font-family: 'Abel', sans-serif;\n  font-size: 20px;\n  border-top: none;\n  border-left:none;\n  .movieinfobar-content {\n    max-width: 1280px;\n    width: 100%;\n    margin: 0 auto;\n    color: #fff;\n  }\n\n  .movieinfobar-content-col {\n    float: left;\n    width: 33.33%;\n    box-sizing: border-box;\n    padding: 10px 20px 0 0;\n  }\n\n  .movieinfobar-info {\n    padding: 5px 0 0 10px;\n    float: left;\n  }\n\n  .fa-time,\n  .fa-revenue {\n    float: left;\n    margin-top: -4px;\n  }\n\n  .fa-budget {\n    float: left;\n    margin-top: -3px;\n  }\n\n  @media screen and (max-width: 768px) {\n    .fa-time,\n    .fa-revenue,\n    .fa-budget {\n      display: none;\n    }\n  }\n\n  @media screen and (max-width: 425px) {\n    font-size: 14px;\n  }\n"]);return Le=function(){return e},e}var Me=C.b.div(Le()),Te=function(e){var t=e.time,n=e.budget,a=e.revenue;return r.a.createElement(Me,null,r.a.createElement("div",{className:"movieinfobar-content"},r.a.createElement("div",{className:"movieinfobar-content-col"},r.a.createElement(M.a,{className:"fa-time",name:"clock-o",size:"2x"}),r.a.createElement("span",{className:"movieinfobar-info"},"Running Time: ",function(e){var t=Math.floor(e/60),n=e%60;return"".concat(t,"h ").concat(n,"m")}(t))),r.a.createElement("div",{className:"movieinfobar-content-col"},0!==n?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{className:"fa-budget",name:"Money",size:"2x"}),r.a.createElement("span",{className:"movieinfobar-info"},"Budget: ",Fe(n))):""),r.a.createElement("div",{className:"movieinfobar-content-col"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{className:"fa-revenue",name:"ticket",size:"2x"}),r.a.createElement("span",{className:"movieinfobar-info"},"Revenue: ",Fe(a))):"")))};function De(){var e=Object(A.a)(["\n  font-family: 'Abel', sans-serif;\n  color: #fff;\n  background: #1c1c1c;\n  border-radius: 20px;\n  padding: 5px;\n  text-align: center;\n\n  img {\n    display: block;\n    width: 100%;\n    height: 200px;\n    object-fit: cover;\n    border-radius: 15px;\n  }\n\n  .actor-name {\n    display: block;\n    font-size: 18px;\n    margin: 10px 0 0 0;\n  }\n\n  .actor-character {\n    display: block;\n    font-size: 16px;\n    margin: 0 0 10px 0;\n  }\n"]);return De=function(){return e},e}var Ue=C.b.div(De()),Pe=function(e){var t=e.actor;return r.a.createElement(Ue,null,r.a.createElement("img",{src:t.profile_path?"".concat(W).concat("w500").concat(t.profile_path):Ne.a,alt:""}),r.a.createElement("span",{className:"actor-name"},t.name),r.a.createElement("span",{className:"actor-character"},t.character))},Be=(n(140),function(e){var t=Object(a.useContext)(u),n=t.isAuthenticated,c=t.user,o=t.loadUser,i=Object(a.useState)(!1),l=Object(s.a)(i,2),m=l[0],d=l[1];if(!n)return r.a.createElement("div",null);for(var f=e.movieID,p=c.ratings,g=c._id,v=-1,b=0;b<p.length;b++)p[b][0]===f&&(v=p[b][1]);var h=function(){var e=Object(Ee.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(!0),console.log("Rating = ",t.target.rating.value),console.log("user id = ",g),console.log("movie id = ",f),p.push([f,Number(t.target.rating.value)]),console.log("userRatings = ",p),e.next=9,B.a.post("/api/users/update",{userID:g,updateField:"ratings",updatedValues:p});case 9:n=e.sent,console.log("updated user = ",n),o(),d(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m?r.a.createElement("div",{className:"ratings"},"Loaging"):-1===v?r.a.createElement("div",{className:"ratings"},r.a.createElement("p",null,"Rate this Movie"),r.a.createElement("form",{onSubmit:h},r.a.createElement("select",{name:"rating",id:"ratings"},r.a.createElement("option",{value:1},"1 Star"),r.a.createElement("option",{value:2},"2 Star"),r.a.createElement("option",{value:3},"3 Star"),r.a.createElement("option",{value:4},"4 Star"),r.a.createElement("option",{value:5},"5 Star")),r.a.createElement("button",{type:"submit",className:"button"},"Rate"))):r.a.createElement("div",{className:"ratings"},r.a.createElement("p",null,"Your Rating : ",v+" ",r.a.createElement("i",{className:"fa fa-star","aria-hidden":"true"})))}),Ge=(n(141),function(e){var t=e.movieID,n=e.movie,c=Object(a.useContext)(u),o=c.loading,l=c.setLoadingtrue,m=c.isAuthenticated,d=c.user,f=c.setLoadingFalse,p=c.loadUser,g=Object(a.useContext)(_).setAlert,v=Object(a.useState)(""),b=Object(s.a)(v,2),h=b[0],E=b[1],x=Object(a.useState)(!1),w=Object(s.a)(x,2),O=w[0],j=w[1],k=Object(a.useState)(!1),N=Object(s.a)(k,2),y=N[0],S=N[1];if(Object(a.useEffect)((function(){(function(){var e=Object(Ee.a)(be.a.mark((function e(){var n,a,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=16;break}n=-1,a=0;case 3:if(!(a<d.movies_reviewed.length)){e.next=11;break}if(d.movies_reviewed[a][0]!==String(t)){e.next=8;break}return j(!0),n=d.movies_reviewed[a][1],e.abrupt("break",11);case 8:a++,e.next=3;break;case 11:return e.next=13,B.a.get("/api/reviews/review/"+n);case 13:r=(r=e.sent).data.review,E(r);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[m,d,y]),m){var R=function(){return S(!y)};if(O)return r.a.createElement("div",{className:"review-container"},r.a.createElement("div",{className:"review"},r.a.createElement("p",{className:"title"},r.a.createElement("span",{className:"first"},"Your Review :")),r.a.createElement("div",{className:"review-content"},h.length>150&&!y?r.a.createElement(r.a.Fragment,null,h.slice(0,150)+"...   ",r.a.createElement("button",{onClick:R},"Read More")):r.a.createElement(r.a.Fragment,null,h+"           ",h.length>150&&r.a.createElement("button",{onClick:R}," Show Less")))));var A=function(){var e=Object(Ee.a)(be.a.mark((function e(t){var a,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("setting loading to true"),l(),a={user_id:t.target.user_id.value,movie_id:t.target.movie_id.value,review:t.target.review_text.value,username:t.target.username.value,movie_data:n},console.log("Data recieved = ",a),!(h.length<1)){e.next=9;break}return console.log("submit cancelled because review.length < 1"),g("please fill in a review to submit"),e.abrupt("return");case 9:return e.prev=9,console.log("making the post request"),e.next=13,B.a.post("/api/reviews/addReview",a);case 13:r=e.sent,console.log("the response of the post req = ",r.data),console.log("calling load user in the reviews function"),p(),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(9),console.log("Error in the catch block inn the onSubmit function in the reviews.jsx"),console.log("error = ",e.t0.message);case 23:f();case 24:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement("div",{className:"review-container"},r.a.createElement("div",{class:"review"},"Loading")):r.a.createElement("div",{className:"review-container"},r.a.createElement("div",{className:"leave-review-container"},r.a.createElement("form",{onSubmit:A,className:"leave-review"},r.a.createElement("input",{type:"hidden",value:d._id,name:"user_id"}),r.a.createElement("input",{type:"hidden",value:t,name:"movie_id"}),r.a.createElement("input",{type:"hidden",value:d.username,name:"username"}),r.a.createElement("textarea",{value:h,placeholder:"Leave a review",name:"review_text",onChange:function(e){console.log(e.target.name," ----\x3e ",e.target.value),E(e.target.value)}},"Leave  review"),r.a.createElement("button",{type:"submit",className:"selections-item"},"Post Review"))))}return r.a.createElement("div",{className:"review-container"},r.a.createElement("div",{className:"SigninLink-container"},r.a.createElement(i.b,{to:"/signin",className:"SigninLink"}," Log in to leave a review for this movie")))}),qe=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!0),i=Object(s.a)(o,2),l=i[0],u=i[1],m=Object(a.useState)(!1),d=Object(s.a)(m,2),f=d[0],p=d[1],g=Object(a.useCallback)(Object(Ee.a)(be.a.mark((function t(){var n,a;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!1),u(!0),t.prev=2,console.log("movie id in usefetch = ",e),n="/api/reviews/movie/"+e,t.next=7,B.a.get(n);case 7:a=t.sent,console.log("result ins useFetch = ",a),c(Object(he.a)({},a)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.error(t.t0.message),p(!0);case 16:u(!1);case 17:case"end":return t.stop()}}),t,null,[[2,12]])}))),[e]);return Object(a.useEffect)((function(){console.log("making an api req for getting the reviews"),g()}),[g,e]),Object(a.useEffect)((function(){sessionStorage.setItem(e+"review",JSON.stringify(r))}),[e,r]),[r,l,f]},We=(n(142),function(e){var t=e.movieID,n=qe(t),a=Object(s.a)(n,3),c=a[0],o=a[1];return a[2]?r.a.createElement("div",null,"Something went wrong"):o?r.a.createElement(me,null):r.a.createElement("div",{className:"ShowReviews"},0===c.data.length&&r.a.createElement("div",{className:"reviewBox"},r.a.createElement("h1",null,"No Reviews")),0!==c.data.length&&c.data.map((function(e){return r.a.createElement("div",{className:"reviewBox"},console.log("Review =???????",e),r.a.createElement("div",{className:"reviewBox-container"},r.a.createElement("span",{className:"username"},r.a.createElement(i.b,{to:"/user/"+e.userID},r.a.createElement("h3",null,r.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"})," ",e.username))),r.a.createElement("h3",null,"Review"),r.a.createElement("p",null,e.review)))})))}),Je=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!0),i=Object(s.a)(o,2),l=i[0],u=i[1],m=Object(a.useState)(!1),d=Object(s.a)(m,2),f=d[0],p=d[1],g=Object(a.useCallback)(Object(Ee.a)(be.a.mark((function t(){var n,a;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!1),u(!0),t.prev=2,n="/api/similarMovies/"+e,t.next=6,B.a.get(n);case 6:a=t.sent,console.log("resilt in useFetchFeed = ",a),c(Object(he.a)({},a)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0.message),p(!0);case 15:u(!1);case 16:case"end":return t.stop()}}),t,null,[[2,11]])}))),[e]);return Object(a.useEffect)((function(){localStorage[e+"similar"]?(u(!1),console.log("grabbing similar movies for"+e+"from local storage"),c(JSON.parse(localStorage[e+"similar"])),u(!1)):(console.log("making an api req for getting movies similar to "+e),g())}),[g,e]),Object(a.useEffect)((function(){localStorage.setItem(e+"similar",JSON.stringify(r))}),[e,r]),[r,l,f]},He=(n(143),function(e){var t=e.movieID,n=Je(t),a=Object(s.a)(n,3),c=a[0],o=a[1],i=a[2];return i?r.a.createElement("div",null,"Something went wrong ",r.a.createElement("br",null),"this is the error ---- ",i):o?r.a.createElement(me,null):r.a.createElement("div",null,console.log("Final return = ",c.data),r.a.createElement(ce,{header:"Similar Movies"},c.data.map((function(e){return r.a.createElement(pe,{key:e.id,clickable:!0,image:e.poster_path?"".concat(W).concat("w500").concat(e.poster_path):Ne.a,movieId:e.id,movieName:e.original_title})}))))}),Ze=(n(144),function(e){var t,n=e.movieID,c=e.movieInfo,o=e.tick,i=Object(a.useState)(!1),l=Object(s.a)(i,2),m=l[0],d=l[1],f=Object(a.useState)("addToWatchlist"),p=Object(s.a)(f,2),g=p[0],v=p[1],b=Object(a.useContext)(u),h=b.isAuthenticated,E=b.user,x=b.loadUser;if(Object(a.useEffect)((function(){E&&(t=E.watchlist,E.watchlist.filter((function(e){return e.id==n})).length>0&&v("removeFromWatchlist"))}),[h]),!h)return r.a.createElement(r.a.Fragment,null);var w=function(){var e=Object(Ee.a)(be.a.mark((function e(a){var r,i;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),d(!0),console.log("Watchlist == ",E.watchlist),r={id:c.id,poster_path:c.poster_path,original_title:c.original_title},t=E.watchlist.filter((function(e){return e.id!=n})),console.log("operation = ",g),"addToWatchlist"==g?t.unshift(r):(t=t.filter((function(e){return e.id!=c.id})),console.log("new watchlist = ",t)),e.prev=7,"/api/users/updateWatchlist",e.next=11,B.a.post("/api/users/updateWatchlist",{userID:E._id,watchlist:t});case 11:i=e.sent,console.log("response = ",i),E.watchlist.filter((function(e){return e.id==n})),"addToWatchlist"==g?(!0,v("removeFromWatchlist")):(!1,o||v("addToWatchlist")),d(!1),x(),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(7),d(!1),console.log("Error in adding to watchlistv--\x3e",e.t0.message),x();case 24:case"end":return e.stop()}}),e,null,[[7,19]])})));return function(t){return e.apply(this,arguments)}}();return m?r.a.createElement("div",{className:"watchlist-container ".concat(o&&"tick")},r.a.createElement("button",{className:"loading-watchlist-button ".concat(o&&"tick")},o?":":"Loading")):"removeFromWatchlist"==g?r.a.createElement("div",{className:"watchlist-container ".concat(o&&"tick")},r.a.createElement("button",{className:"remove-watchlist-button ".concat(o&&"tick"),onClick:w},o?" - ":"Remove from watch list")):r.a.createElement("div",{className:"watchlist-container ".concat(o&&"tick")},r.a.createElement("button",{className:"add-watchlist-button ".concat(o&&"tick"),onClick:w},o?" + ":"Add to watch list"))}),Ve=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!0),i=Object(s.a)(o,2),l=i[0],u=i[1],m=Object(a.useState)(!1),d=Object(s.a)(m,2),f=d[0],p=d[1],g=Object(a.useCallback)(Object(Ee.a)(be.a.mark((function t(){var n,a,r,o,i;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!1),u(!0),t.prev=2,n="".concat(G,"movie/").concat(e,"?api_key=").concat(q),t.next=6,fetch(n);case 6:return t.next=8,t.sent.json();case 8:return a=t.sent,r="".concat(G,"movie/").concat(e,"/credits?api_key=").concat(q),t.next=12,fetch(r);case 12:return t.next=14,t.sent.json();case 14:o=t.sent,i=o.crew.filter((function(e){return"Director"===e.job})),c(Object(he.a)(Object(he.a)({},a),{},{actors:o.cast,directors:i})),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(2),p(!0),console.error(t.t0.message);case 23:u(!1);case 24:case"end":return t.stop()}}),t,null,[[2,19]])}))),[e]);return Object(a.useEffect)((function(){localStorage[e]?(console.log("grabbing movie info from local storage"),c(JSON.parse(localStorage[e])),u(!1)):(console.log("making api call to tmdb"),g())}),[g,e]),Object(a.useEffect)((function(){localStorage.setItem(e,JSON.stringify(r))}),[e,r]),[r,l,f]},Ye=function(e){var t=Object(a.useContext)(u),n=t.isAuthenticated,c=t.loadUser,o=t.user;Object(a.useEffect)((function(){c()}),[n]);var l=Object(a.useState)("Actors"),m=Object(s.a)(l,2),d=m[0],f=m[1],p=e.match.params.movieId,g=Ve(p),v=Object(s.a)(g,3),b=v[0],h=v[1];if(v[2])return r.a.createElement("div",null,"Something went wrong");if(h)return r.a.createElement(me,null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{movie:b}),r.a.createElement(Te,{time:b.runtime,budget:b.budget,revenue:b.revenue}),r.a.createElement(Be,{movieID:b.id}),r.a.createElement(Ge,{movieID:b.id,movie:b}),r.a.createElement(ge,{handelClick:function(e){f(e.target.value)},collections:["Actors","Reviews","Similar Movies"]}),r.a.createElement(Ze,{movieID:b.id,movieInfo:b}),o&&r.a.createElement("div",{className:"watchlist-container"},r.a.createElement(i.b,{to:"/user/"+o._id},r.a.createElement("button",{className:"loading-watchlist-button "},"Go to Watchlist"))),"Actors"===d&&r.a.createElement(ce,{header:"Actors"},b.actors.map((function(e){return r.a.createElement(Pe,{key:e.credit_id,actor:e})}))),"Reviews"===d&&r.a.createElement(We,{movieID:p}),"Similar Movies"===d&&r.a.createElement(He,{movieID:p}))},$e=function(){var e=Object(a.useContext)(u).loadUser;return Object(a.useEffect)((function(){e()}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Not Found "),r.a.createElement("h1",null,r.a.createElement(i.b,{to:"/"},"Home")))},Ke=n(24);function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var et=r.a.createElement("path",{d:"M78,19H22c-6.6,0-12,5.4-12,12v31c0,6.6,5.4,12,12,12h37.2c0.4,3,1.8,5.6,3.7,7.6c2.4,2.5,5.1,4.1,9.1,4 c-1.4-2.1-2-7.2-2-10.3c0-0.4,0-0.8,0-1.3h8c6.6,0,12-5.4,12-12V31C90,24.4,84.6,19,78,19z",fill:"#ffffff"}),tt=r.a.createElement("circle",{cx:30,cy:47,r:5,fill:"#42ded6"},r.a.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.2;1",values:"0;1;1"})),nt=r.a.createElement("circle",{cx:50,cy:47,r:5,fill:"#42ded6"},r.a.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.2;0.4;1",values:"0;0;1;1"})),at=r.a.createElement("circle",{cx:70,cy:47,r:5,fill:"#42ded6"},r.a.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.4;0.6;1",values:"0;0;1;1"})),rt=function(e){var t=e.svgRef,n=e.title,a=Xe(e,["svgRef","title"]);return r.a.createElement("svg",Qe({style:{margin:"auto",background:"none",display:"block",shapeRendering:"auto"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t},a),n?r.a.createElement("title",null,n):null,et,tt,nt,at)},ct=r.a.forwardRef((function(e,t){return r.a.createElement(rt,Qe({svgRef:t},e))})),ot=(n.p,n(145),function(e){var t=Object(a.useState)({username:"",password:"",password2:"",fname:"",lname:"",email:""}),n=Object(s.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)({email:!1,username:!1,fname:!1,password:!1,password2:!1}),m=Object(s.a)(l,2),d=m[0],f=m[1],p=Object(a.useState)(!1),g=Object(s.a)(p,2),v=g[0],b=g[1],h=Object(a.useState)(!1),E=Object(s.a)(h,2),x=E[0],w=E[1],O=Object(a.useState)(!1),j=Object(s.a)(O,2),k=j[0],N=j[1],y=c.username,A=c.password,C=c.password2,I=c.fname,z=c.lname,F=c.email,L=Object(a.useContext)(u),M=L.register,T=L.isAuthenticated,D=L.loadUser,U=L.setLoadingtrue,P=L.setLoadingFalse,B=L.loading,G=Object(a.useContext)(_).setAlert;Object(a.useEffect)((function(){D(),T&&e.history.push("/")}),[T,e.history]),Object(a.useEffect)((function(){d.email&&d.username&&d.fname&&d.password&&d.password2?b((function(){return!0})):b((function(){return!1}))}),[d]);var q=function(e){console.clear();var t=e.target.name,n=e.target.value;"email"==t?!function(e){return!!/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{1,4})$/.test(e)}(n)?f((function(e){return Object(he.a)(Object(he.a)({},e),{},{email:!1})})):f((function(e){return Object(he.a)(Object(he.a)({},e),{},{email:!0})})):"username"==t?n.length>3?f((function(e){return Object(he.a)(Object(he.a)({},e),{},{username:!0})})):f((function(e){return Object(he.a)(Object(he.a)({},e),{},{username:!1})})):"fname"==t?n.length>0?f((function(e){return Object(he.a)(Object(he.a)({},e),{},{fname:!0})})):f((function(e){return Object(he.a)(Object(he.a)({},e),{},{fname:!1})})):"password"==t?n.length<6?f((function(e){return Object(he.a)(Object(he.a)({},e),{},{password:!1})})):f((function(e){return Object(he.a)(Object(he.a)({},e),{},{password:!0})})):"password2"==t&&(n.length<6?f((function(e){return Object(he.a)(Object(he.a)({},e),{},{password2:!1})})):f((function(e){return Object(he.a)(Object(he.a)({},e),{},{password2:!0})}))),o((function(e){return Object(he.a)(Object(he.a)({},e),{},Object(Ke.a)({},t,n))}))},W=function(){var e=Object(Ee.a)(be.a.mark((function e(t){var n,a,r,c,o,i,l,s,u;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.clear(),t.preventDefault(),U(),console.log("got the data = ",t.target),e.prev=4,n=t.target.email.value,a=t.target.fname.value,r=t.target.lname.value,c=t.target.password.value,o=t.target.password2.value,i=t.target.username.value,t.target.gener,l=[],""!==i&&""!==c&&""!==n){e.next=18;break}G("Please enter all the fields","danger"),P(),e.next=43;break;case 18:if(c===o){e.next=23;break}G("Passwords do not match","danger"),P(),e.next=43;break;case 23:if(a.match(/^[a-zA-Z]+$/)){e.next=28;break}G("The First Name must not contain numbers, spaces or special characters","danger"),P(),e.next=43;break;case 28:if(!(c.length<6)){e.next=33;break}G("Password must be atleast 6 characters"),P(),e.next=43;break;case 33:return U(),console.log("---<> making the server request <> ---"),console.log(typeof M),e.next=38,M({email:n,fname:a,lname:r,password:c,password2:o,username:i,generPreference:l});case 38:s=e.sent,console.log("response = ",s),u=s.data.token,console.log("Token = ",u),P();case 43:e.next=49;break;case 45:e.prev=45,e.t0=e.catch(4),console.error("error message = ",e.t0.message),console.log("some error in the catch block  of the signup component \n");case 49:case"end":return e.stop()}}),e,null,[[4,45]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"signin-container"},r.a.createElement("div",{className:"signin"},r.a.createElement(S,{className:"eggLogo"}),r.a.createElement("h3",null,"Sign Up to keepwatching.io"),r.a.createElement("a",{name:"#top",id:"top"}),r.a.createElement("form",{onSubmit:W,autocomplete:"off"},r.a.createElement("div",{className:"inputField"},r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"Email address"),r.a.createElement("span",{className:"red-font"},"*email is required")),r.a.createElement("input",{type:"email",name:"email",label:"Email",onChange:q,value:F})),r.a.createElement("div",{className:"inputField"},r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"Username"),r.a.createElement("span",{className:"red-font"},"*required")),r.a.createElement("input",{type:"text",name:"username",label:"Username",onChange:q,value:y})),r.a.createElement("div",{className:"inputField"},r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"First Name"),r.a.createElement("span",{className:"red-font"},"*required")),r.a.createElement("input",{type:"text",name:"fname",label:"First Name",onChange:q,value:I})),r.a.createElement("div",{className:"lname"},r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"Last Name"),r.a.createElement("span",{className:"red-font"})),r.a.createElement("input",{type:"text",name:"lname",label:"Last Namel",onChange:q,value:z})),r.a.createElement("div",{className:"inputField"},r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"Password"),r.a.createElement("span",{className:"red-font"},"*required")),r.a.createElement("input",{type:x?"text":"password",name:"password",label:"Password",onChange:q,value:A}),r.a.createElement("div",{className:"showPassword",id:"showPassEgg",onClick:function(e){w((function(e){return!e})),setTimeout((function(){return w(!1)}),6e3)}},r.a.createElement(S,{className:"showPassEgg"}))),r.a.createElement("div",{className:"inputField"},r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"Confirm Password"),r.a.createElement("span",{className:"red-font"},"*required")),r.a.createElement("input",{type:k?"text":"password",name:"password2",label:"Password",onChange:q,value:C}),r.a.createElement("div",{className:"showPassword",id:"showPassEgg",onClick:function(e){N((function(e){return!e})),setTimeout((function(){return N(!1)}),6e3)}},r.a.createElement(S,{className:"showPassEgg"}))),B?r.a.createElement(ct,null):r.a.createElement("div",{className:"submit-button"},r.a.createElement("a",{href:"#top"},r.a.createElement(R,null),r.a.createElement("input",{type:"submit",value:"Sign Up",className:v?"":"notAllowed"})))),r.a.createElement("div",{className:"signUpBlock"},"Already  have an account?  ",r.a.createElement(i.b,{to:"/signin"},"Sign In here"))))}),it=(n(146),function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(s.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)({email:!1,password:!1}),m=Object(s.a)(l,2),d=m[0],f=m[1],p=Object(a.useState)(!1),g=Object(s.a)(p,2),v=g[0],b=g[1],h=Object(a.useState)(!1),E=Object(s.a)(h,2),x=E[0],w=E[1],O=c.email,j=c.password,k=Object(a.useContext)(u),N=k.isAuthenticated,y=k.loadUser,A=k.login,C=k.loading,I=k.setLoadingFalse,z=k.setLoadingtrue,F=Object(a.useContext)(_).setAlert;Object(a.useEffect)((function(){y(),I(),N&&e.history.push("/")}),[N,e.history]),Object(a.useEffect)((function(){d.email&&d.password?b((function(){return!0})):b((function(){return!1}))}),[d]);var L=function(e){console.clear();var t=e.target.name,n=e.target.value;"email"==t?!function(e){return!!/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{1,4})$/.test(e)}(n)?f((function(e){return Object(he.a)(Object(he.a)({},e),{},{email:!1})})):f((function(e){return Object(he.a)(Object(he.a)({},e),{},{email:!0})})):"password"==t&&(n.length<6?f((function(e){return Object(he.a)(Object(he.a)({},e),{},{password:!1})})):f((function(e){return Object(he.a)(Object(he.a)({},e),{},{password:!0})}))),o((function(e){return Object(he.a)(Object(he.a)({},e),{},Object(Ke.a)({},t,n))}))},M=function(){var e=Object(Ee.a)(be.a.mark((function e(t){var n,a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.clear(),t.preventDefault(),z(),n=t.target.email.value,a=t.target.password.value,e.prev=5,(""===n||a.length<6)&&(F("All fields must be filled in - "),I()),e.next=9,A({email:n,password:a});case 9:e.sent,I(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),I();case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"signin-container"},r.a.createElement("div",{className:"signin"},r.a.createElement(S,{className:"eggLogo"}),r.a.createElement("h3",null,"Sign in to keepwatching.io"),r.a.createElement("form",{onSubmit:M,autocomplete:"off"},r.a.createElement("div",{className:"inputField"},r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"Email address"),r.a.createElement("span",{className:"red-font"},"*required")),r.a.createElement("input",{type:"email",name:"email",label:"Email",onChange:L,value:O})),r.a.createElement("div",{className:"inputField"},r.a.createElement("label",{className:"label"},r.a.createElement("span",null,"Password"),r.a.createElement("span",{className:"red-font"},"*required")),r.a.createElement("input",{type:x?"text":"password",name:"password",label:"Password",onChange:L,value:j}),r.a.createElement("div",{className:"showPassword",id:"showPassEgg",onClick:function(e){w(!x),setTimeout((function(){return w(!1)}),5e3)}},r.a.createElement(S,{className:"showPassEgg"}))),C?r.a.createElement(ct,null):r.a.createElement("div",{className:"submit-button"},r.a.createElement(R,null),r.a.createElement("input",{type:"submit",value:"Sign In",className:v?"":"notAllowed"}))),r.a.createElement("div",{className:"signUpBlock"},"Don't  have an account?  ",r.a.createElement(i.b,{to:"/signup"},"Sign Up here"))))}),lt=(n(147),function(e){var t=e.user,n=e.nextUser,c=(e.setFollowing,e.setFollowers),o=Object(a.useState)(!0),i=Object(s.a)(o,2),l=i[0],u=i[1],m=Object(a.useState)("follow"),d=Object(s.a)(m,2),f=d[0],p=d[1],g=t._id,v=n.data._id,b=t.username,h=n.data.username,E=(t.followers,t.following),x=n.data.followers,w=n.data.following,O=E,j=x;Object(a.useEffect)((function(){for(var e=!1,t=0;t<E.length;t++)if(E[t][0]==v){console.log("user already follows rhe next user thus showing unfollow button"),u(!1),p("unfollow"),e=!0;break}if(!e)for(var n=0;n<w.length;n++)if(w[n][0]==g&&"unfollow"!=f){console.log("operatin type ====> ",f),console.log("nrent user showing follow back button"),u(!1),p("followBack");break}u(!1)}),[]);var k=function(){var e=Object(Ee.a)(be.a.mark((function e(t){var n;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),t.preventDefault(),console.log("Operation type = ",f),"follow"==f||"followBack"==f?(O=O.filter((function(e){return e[0]!=v})),j=j.filter((function(e){return e[0]!=g})),O.unshift([v,h]),j.unshift([g,b])):(O=O.filter((function(e){return e[0]!=v})),j=j.filter((function(e){return e[0]!=g}))),e.prev=4,"/api/users/follow",e.next=8,B.a.post("/api/users/follow",{user_id:g,nextUser_id:v,updatedUserFollowing:O,updatednextFollowers:j});case 8:if(e.sent,u(!1),"follow"!=f&&"followBack"!=f){e.next=14;break}p("unfollow"),e.next=27;break;case 14:n=0;case 15:if(!(n<w.length)){e.next=27;break}if(w[n][0]!=g){e.next=23;break}return console.log("next user follows current user showing follow back button"),u(!1),p("followBack"),e.abrupt("break",27);case 23:p("follow");case 24:n++,e.next=15;break;case 27:c((function(e){return j})),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(4),console.log("Some error in following the user");case 33:case"end":return e.stop()}}),e,null,[[4,30]])})));return function(t){return e.apply(this,arguments)}}();return l?r.a.createElement("button",{className:"follow-btn-disabled",disabled:!0},"Loading "):"follow"==f?r.a.createElement("button",{className:"follow-btn-"+f,onClick:k},"Follow "):"followBack"==f?r.a.createElement("button",{className:"follow-btn-"+f,onClick:k},"Follow Back"):r.a.createElement("button",{className:"follow-btn-unfollow",onClick:k},"Unfollow ")}),st=(n(148),function(e){var t=e.header,n=e.children;return r.a.createElement("div",{className:"watchlist-grid"},r.a.createElement("h1",null,t),r.a.createElement("div",{className:"watchlist-content"},n))}),ut=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!0),i=Object(s.a)(o,2),l=i[0],u=i[1],m=Object(a.useState)(!1),d=Object(s.a)(m,2),f=d[0],p=d[1],g=Object(a.useCallback)(Object(Ee.a)(be.a.mark((function t(){var n,a;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!1),u(!0),t.prev=2,console.log("user id in usefetch = ",e),n="/api/reviews/user/"+e,t.next=7,B.a.get(n);case 7:a=t.sent,c(Object(he.a)({},a)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0.message),p(!0);case 15:u(!1);case 16:case"end":return t.stop()}}),t,null,[[2,11]])}))),[e]);return Object(a.useEffect)((function(){console.log("making an api req for getting the reviews"),g()}),[g,e]),[r,l,f]},mt=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!0),i=Object(s.a)(o,2),l=i[0],u=i[1],m=Object(a.useState)(!1),d=Object(s.a)(m,2),f=d[0],p=d[1],g=Object(a.useCallback)(Object(Ee.a)(be.a.mark((function t(){var n,a;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!1),u(!0),t.prev=2,console.log("user id in usefetch = ",e),n="/api/users/"+e,t.next=7,B.a.get(n);case 7:a=t.sent,console.log("result ins useFetch = ",a),c(Object(he.a)({},a)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.error(t.t0.message),p(!0);case 16:u(!1);case 17:case"end":return t.stop()}}),t,null,[[2,12]])}))),[e]);return Object(a.useEffect)((function(){console.log("making an api req for getting user inforamtion"),g()}),[g,e]),[r,l,f]},dt=(n(149),function(e){var t=Object(l.f)().userID,n=Object(a.useContext)(u),c=n.isAuthenticated,o=n.loadUser,m=n.user;Object(a.useEffect)((function(){o()}),[c]);var d=ut(t),f=Object(s.a)(d,3),p=f[0],g=f[1],v=(f[2],mt(t)),b=Object(s.a)(v,3),h=b[0],E=b[1],x=(b[2],Object(a.useState)([])),w=Object(s.a)(x,2),O=w[0],j=w[1],k=Object(a.useState)([]),N=Object(s.a)(k,2),y=N[0],_=N[1];return Object(a.useEffect)((function(){E||(j(h.data.followers),_(h.data.following))}),[E]),Object(a.useEffect)((function(){console.log("Use effect for followers called")}),[O]),c?E?r.a.createElement("div",{className:"user-page-container"},r.a.createElement(me,null)):(console.log("Followers = ",O),r.a.createElement("div",{className:"user-page-container"},r.a.createElement("div",{className:"user-info"},r.a.createElement("div",{className:"displaypic"},r.a.createElement(S,null),h.data.email!=m.email?r.a.createElement(lt,{user:m,nextUser:h,setFollowing:_,setFollowers:j}):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{class:"grid-container"},r.a.createElement("div",{class:"grid-item"},r.a.createElement("span",{className:"first"},"Username"),r.a.createElement("span",{className:"second"},h.data&&h.data.username)),r.a.createElement("div",{class:"grid-item"},r.a.createElement("span",{className:"first"},"Name"),r.a.createElement("span",{className:"second"},h.data&&h.data.fname," ",h&&h.lname)),r.a.createElement("div",{class:"grid-item"},r.a.createElement("span",{className:"first"},"Email"),r.a.createElement("span",{className:"second"},h.data&&h.data.email)),r.a.createElement("div",{class:"grid-item"},r.a.createElement("span",{className:"first"},"Followers"),r.a.createElement("span",{className:"second pl5"},h.data&&O.length)),r.a.createElement("div",{class:"grid-item"},r.a.createElement("span",{className:"first"},"Following"),r.a.createElement("span",{className:"second pl5"},h.data&&y.length)),r.a.createElement("div",{class:"grid-item"},r.a.createElement("span",{className:"first"},"Reviewes given"),r.a.createElement("span",{className:"second pl5"},h.data&&h.data.movies_reviewed.length)))),r.a.createElement("div",{className:"first-row"},r.a.createElement("div",{className:"activity"},r.a.createElement("div",{className:"avtivity-title"},r.a.createElement("span",null,"Followers")),r.a.createElement("div",{className:"userWatchlist"},r.a.createElement("div",{classNam:"user-reviews"},O.length>0?O.map((function(e){return r.a.createElement("div",{className:"styled-border m5 p5"},r.a.createElement(i.b,{to:"/user/"+e[0]},r.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"})," ",e[1]))})):r.a.createElement("span",{className:"second"},"No Followers")))),r.a.createElement("div",{className:"activity"},r.a.createElement("div",{className:"avtivity-title"},r.a.createElement("span",null,"Following")),r.a.createElement("div",{className:"userWatchlist"},r.a.createElement("div",{classNam:"user-reviews"},y.length>0?y.map((function(e){return r.a.createElement("div",{className:"styled-border m5 p5"},r.a.createElement(i.b,{to:"/user/"+e[0]},r.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"})," ",e[1]))})):r.a.createElement("span",{className:"second"},"Not Following any user"))))),r.a.createElement("div",{className:"first-row"},r.a.createElement("div",{className:"activity"},r.a.createElement("div",{className:"avtivity-title"},r.a.createElement("span",null,"Recent activity")),r.a.createElement("div",{className:"user-reviews"},g?r.a.createElement(me,null):r.a.createElement(r.a.Fragment,null,p.data.length>0?p.data.map((function(e){return r.a.createElement(Oe,{review:e})})):r.a.createElement("span",{className:"second medium-font pl5"},"No Activity")))),r.a.createElement("div",{className:"activity"},r.a.createElement("div",{className:"avtivity-title"},r.a.createElement("span",null,h.data.email==m.email?"Watchlist":"Some other Information")),r.a.createElement("div",{className:"userWatchlist"},h.data.email==m.email?m.watchlist?r.a.createElement(st,null,m.watchlist.map((function(e){return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(pe,{key:e.id,image:e.poster_path?"".concat(W).concat("w500").concat(e.poster_path):Ne.a,movieId:e.id,movieName:e.original_title}),r.a.createElement(Ze,{movieID:e.id,movieInfo:e,tick:!0}))}))):r.a.createElement("span",{className:"second"},"Wishlist is empty"):r.a.createElement(r.a.Fragment,null)))))):r.a.createElement("div",{className:"user-page-container"},r.a.createElement("h1",null,r.a.createElement(i.b,{to:"/signin"}," Signin")))}),ft=n(71),pt=n.n(ft),gt=function(e,t){switch(t.type){case"SET_LOADING_FALSE":return Object(he.a)(Object(he.a)({},e),{},{loading:!1});case"SET_LOADING_TRUE":return Object(he.a)(Object(he.a)({},e),{},{loading:!0});case"USER_LOADED":return Object(he.a)(Object(he.a)({},e),{},{isAuthenticated:!0,loading:!1,user:t.payload});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(he.a)(Object(he.a)(Object(he.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":return Object(he.a)(Object(he.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case"LOGOUT":return delete B.a.defaults.headers.common["x-auth-token"],localStorage.removeItem("token"),Object(he.a)(Object(he.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case"CLEAR_ERRORS":return Object(he.a)(Object(he.a)({},e),{},{error:null});case"UPDATE_USER":return Object(he.a)(Object(he.a)({},e),{},{user:t.payload});default:return e}},vt=function(e){e?B.a.defaults.headers.common["x-auth-token"]=e:delete B.a.defaults.headers.common["x-auth-token"]},bt=function(e){var t=Object(a.useContext)(_).setAlert,n={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null,error:null},c=Object(a.useReducer)(gt,n),o=Object(s.a)(c,2),i=o[0],l=o[1],m=function(){var e=Object(Ee.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&vt(localStorage.token),e.prev=1,e.next=4,B.a.get("/api/auth");case 4:t=e.sent,l({type:"USER_LOADED",payload:t.data}),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("there was an error in the catch block of the loadUser in the authenticationState.jsx"),console.log("ERROR:-",Error.message),console.log("ERROR:-",Error),l({type:"AUTH_ERROR"});case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(Ee.a)(be.a.mark((function e(n){var a,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},l({type:"SET_LOADING_TRUE"}),e.prev=2,e.next=5,B.a.post("/api/users/",n,a);case 5:return r=e.sent,l({type:"REGISTER_SUCCESS",payload:r.data}),m(),g(),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(2),g(),console.log("ERROR IN authenticationstate.js in the register function catch block"),console.log("error = ",e.t0.response.data.msg),t(e.t0.response.data.msg,"danger"),l({type:"REGISTER_FAIL",payload:e.t0.response.data.msg});case 19:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(Ee.a)(be.a.mark((function e(n){var a,r;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,B.a.post("/api/auth",n,a);case 4:return r=e.sent,l({type:"LOGIN_SUCCESS",payload:r.data}),console.log(pt.a.green("login Successful")),m(),g(),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(1),t(e.t0.response.data.msg,"danger"),g(),console.log("some error in the catch block of the login function in the AuthState.jsx"),console.log("error --\x3e ",e.t0.message),console.log("Error --\x3e oobjb ",e.t0.response.data.msg);case 19:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(Ee.a)(be.a.mark((function e(){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.get("localhost:3000/api/auth/google");case 3:t=e.sent,l({type:"LOGIN_SUCCESS",payload:t.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("some error in the catch block of the signinwithGogle function in the AuthState.jsx"),console.log("error --\x3e ",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(){l({type:"SET_LOADING_FALSE"})};return r.a.createElement(u.Provider,{value:{token:i.token,isAuthenticated:i.isAuthenticated,loading:i.loading,user:i.user,error:i.error,setLoadingtrue:function(){l({type:"SET_LOADING_TRUE"})},setLoadingFalse:g,register:d,login:f,signInWithGoogle:p,logout:function(){l({type:"LOGOUT"}),g()},clearErrors:function(){return console.log("Clear errors")},loadUser:m}},e.children)},ht=n(170),Et=function(e,t){switch(t.type){case"SET_ALERT":return[].concat(Object(Se.a)(e),[t.payload]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==t.payload}));default:return e}},xt=function(e){var t=Object(a.useReducer)(Et,[]),n=Object(s.a)(t,2),c=n[0],o=n[1];return r.a.createElement(_.Provider,{value:{alerts:c,setAlert:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,a=Object(ht.a)();o({type:"SET_ALERT",payload:{msg:e,type:t,id:a}}),setTimeout((function(){return o({type:"REMOVE_ALERT",payload:a})}),n)},removeAlert:function(e){o({type:"REMOVE_ALERT",payload:e})}}},e.children)};function wt(){var e=Object(A.a)(["\n  body {\n    a{\n      text-decoration: none;\n      color: white;\n    }\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n"]);return wt=function(){return e},e}var Ot=Object(C.a)(wt());localStorage.token&&vt(localStorage.token);var jt=function(){return Object(a.useEffect)((function(){return console.clear()}),[]),r.a.createElement(xt,null,r.a.createElement(bt,null,r.a.createElement(i.a,null,r.a.createElement(F,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:Re}),r.a.createElement(l.a,{path:"/movie/:movieId",component:Ye}),r.a.createElement(l.a,{exact:!0,path:"/signup",component:ot}),r.a.createElement(l.a,{exact:!0,path:"/signin",component:it}),r.a.createElement(l.a,{exact:!0,path:"/recommendation",component:ye}),r.a.createElement(l.a,{exact:!0,path:"/user/:userID",component:dt}),r.a.createElement(l.a,{component:$e})),r.a.createElement(U,null),r.a.createElement(Ot,null))))};o.a.render(r.a.createElement(jt,null),document.getElementById("root"))},74:function(e,t,n){e.exports=n(168)},79:function(e,t,n){e.exports=n.p+"static/media/reactMovie_logo.08494abf.png"},80:function(e,t,n){e.exports=n.p+"static/media/tmdb_logo.30cd724b.svg"},81:function(e,t,n){},82:function(e,t,n){}},[[74,1,2]]]);
//# sourceMappingURL=main.132983a1.chunk.js.map