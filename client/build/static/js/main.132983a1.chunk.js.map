{"version":3,"sources":["components/images/no_image.jpg","context/Authentication/authenticationContext.js","components/components/LogoutButton/LogoutButton.jsx","components/images/egg.svg","context/AlertContext/AlertContext.js","components/components/Alerts/Alerts.jsx","components/components/Header/StyledHeader.js","components/components/Header/Header.jsx","components/components/Footer/StyledFooter.js","components/components/Footer/Footer.jsx","config.js","components/components/HeroImage/StyledHeroImage.js","components/components/HeroImage/HeroImage.jsx","components/components/SearchBar/StyledSearchBar.js","components/components/SearchBar/SearchBar.jsx","components/components/Grid/StyledGrid.js","components/components/Grid/Grid.jsx","components/components/LoadMoreButton/StyledLoadMoreBtn.js","components/components/LoadMoreButton/LoadMoreBtn.jsx","components/components/Spinner/StyledSpinner.js","components/components/Spinner/Spinner.jsx","components/components/MovieThubmnail/StyledMovieThumb.js","components/components/MovieThubmnail/MovieThumb.jsx","components/components/selections/selections.jsx","components/hooks/useFetchFeed.jsx","components/components/FeedItem/utils.js","components/components/FeedItem/FeedItem.component.jsx","components/components/Feed/Feed.jsx","components/pages/recommendations/Recommendations.jsx","components/hooks/useHomeFetch.jsx","components/pages/Home.jsx","components/components/Navigation/StyledNavigation.js","components/components/MovieInfo/StyledMovieInfo.js","components/components/MovieInfo/MovieInfo.jsx","helpers.js","components/components/MovieInfoBar/StyledMovieInfoBar.js","components/components/MovieInfoBar/MovieInfoBar.jsx","components/components/Actor/StyledActor.js","components/components/Actor/Actor.jsx","components/components/Rating/Rating.jsx","components/components/Review/reviews.jsx","components/hooks/useReviewsFetch.jsx","components/components/ShowReviews/ShowReviews.jsx","components/hooks/useFetchSimilarMovies.jsx","components/components/similarMovies/SimilarMovies.jsx","components/components/AddToWatchList/AddToWatchList.jsx","components/hooks/useMovieFetch.jsx","components/pages/Movie.jsx","components/pages/NotFound.jsx","components/images/loading.svg","components/components/SignUp/SignUp.jsx","components/pages/SignIn/Signin.jsx","components/components/FolllowUnfollowButton/FollowUnfollowButton.jsx","components/components/watchlistGrid/watchlistGrid.jsx","components/hooks/useUserReviewsFetch.jsx","components/hooks/useFetchUserInformation.jsx","components/pages/UserPage/UserPage.jsx","context/Authentication/authenticationReducer.js","context/types.js","utils/setAuthToken.js","context/Authentication/AuthenticationState.js","context/AlertContext/AlertReducer.js","context/AlertContext/AlertState.js","components/GlobalStyle.js","components/App.js","index.js","components/images/reactMovie_logo.png","components/images/tmdb_logo.svg"],"names":["module","exports","AuthContext","createContext","LogoutButton","props","logout","useContext","onClick","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","fill","_ref5","className","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref","svgRef","title","id","viewBox","ref","ForwardRef","forwardRef","AlertContext","Alerts","alertContext","alerts","map","alert","type","msg","StyledHeader","styled","div","Header","authContext","isAuthenticated","user","loadUser","useEffect","useState","show","setShow","loginInfo","to","_id","email","ratings","movies_reviewed","watchlist","toggleShow","style","display","color","justifyContent","aria-hidden","marginRight","href","marginLeft","StyledFooter","Footer","name","API_URL","API_KEY","IMAGE_BASE_URL","SEARCH_BASE_URL","POPULAR_BASE_URL","StyledHeroImage","image","HeroImage","text","StyledSearchBar","StyledSearchBarContent","SearchBar","callback","state","setState","timeOut","useRef","size","placeholder","onChange","event","value","clearTimeout","current","setTimeout","StyledGrid","StyledGridContent","Grid","header","children","StyledLoadMoreBtn","button","LoadMoreBtn","StyledSpinner","Spinner","StyledMovieThumb","MovieThumb","movieId","clickable","src","alt","Selections","collections","handelClick","collectionName","useFetchFeed","movieID","loading","setLoading","error","setError","fetchData","useCallback","a","axios","get","result","console","log","message","sessionStorage","setItem","JSON","stringify","getDate","date","Year","Date","getYear","Month","getMonth","ddate","FinalDate","getDay","String","postedTime","getTime","difference","days","Math","floor","week","months","year","getDaysAgo","FeedItem","review","movie_data","poster_path","original_title","userID","username","slice","tmdbMovieId","Feed","useReviewsFetch","feed","class","data","RecommendationsPage","setLoadingtrue","setLoadingFalse","setAlert","recommendations","setRecommendations","generateCollaborativeFilteringRecommendations","recommender_type","userRatings","config","headers","res","post","recommended_movies","endpoint","fetch","json","push","movie","NoImage","movieName","useHomeFetch","searchTerm","movies","fetchMovies","isLoadMore","search","prev","results","heroImage","currentPage","page","totalPages","total_pages","homeState","parse","Home","selection","setSelection","setSearchTerm","backdrop_path","overview","searchEndpoint","popularEndpoint","StyledMovieInfo","backdrop","MovieInfo","vote_average","directors","director","credit_id","convertMoney","money","Intl","NumberFormat","currency","minimumFractionDigits","format","StyledMovieInfoBar","MovieInfoBar","time","budget","revenue","hours","mins","calcTime","StyledActor","Actor","actor","profile_path","character","Ratings","movieRating","rateMovie","preventDefault","rating","Number","updateField","updatedValues","updatedUser","onSubmit","Reviews","stateReview","setStateReview","isReviewed","setIsReviewed","readMore","setReadMore","reviewID","fetchReview","toggleReadMore","handelSubmit","user_id","movie_id","review_text","ShowReviews","movie_reviews","useFetchSimilarMovies","localStorage","SimilarMovies","similarMovies","AddtoWatchlist","movieInfo","tick","operation","setOperation","filter","newmovie","unshift","film","response","useMovieFetch","creditsEndpoint","creditsResult","crew","member","job","actors","cast","Movie","match","params","runtime","Rating","AddToWatchList","NotFound","cx","cy","r","attributeName","repeatCount","dur","keyTimes","values","margin","background","shapeRendering","width","height","preserveAspectRatio","SignUp","password","password2","fname","lname","isValid","setIsValid","isAllowed","setIsAllowed","showPassword","setShowPassword","showPassword2","setShowPassword2","register","history","handelChange","clear","test","validateEmail","gener","generPreference","token","autocomplete","label","SignIn","login","FollowUnfollowButton","nextUser","setFollowers","setFollowing","operationType","setOperationType","nextUser_id","user_userName","next_user_username","userFollowing","followers","following","nextFollowers","nextFollowing","updatedUserFollowing","updatednextFollowers","operationset","follower","disabled","WatchlistGrid","useUserReviewsFetch","useUserinformationFetch","UserPage","useParams","useUserReviewFech","userReviews","currentUser","userLoading","classNam","position","action","payload","defaults","common","removeItem","setAuthToken","AuthState","initialState","getItem","useReducer","authReducer","dispatch","setAthToken","Error","formData","chalk","green","signInWithGoogle","Provider","clearErrors","AlertState","AlertReducer","timeout","uuidv4","removeAlert","GlobalStyle","createGlobalStyle","App","exact","path","component","Recommendations","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.132983a1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/no_image.31f5bb1d.jpg\";","import { createContext } from \"react\"\n\nconst AuthContext  = createContext()\n\nexport default AuthContext"," // eslint-disable-next-line\nimport React, {useContext, useReducer} from \"react\"\n\n//  Importing context\nimport AuthContext from \"../../../context/Authentication/authenticationContext\"\n\n//  importing styling\nimport \"./LogoutButton.styles.css\"\nconst LogoutButton = (props) => {\n    const authContext = useContext(AuthContext)\n    const {logout} = authContext\n    \n    return(\n   \n        <button onClick={logout}    >\n            Sign Out\n        </button>\n  )\n\n}\n\n\nexport default LogoutButton","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-3{fill:#252526}.cls-5{fill:#56555c}\"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M199.94 412.82A160.34 160.34 0 0150.75 311.23c-3-7.62-6.3-15.51-8.08-23.63l-1.8-12.8c-15.49-6.28-26.4-20.94-30.12-35.46C6.23 221.66.69 195.63 0 172c-.53-18.77 10.38-36.4 27.17-43.87 11.67-5.2 27.35-9.55 46.73-13 12-26.56 25.94-49.75 40.68-67.63C140.6 16 169.31 0 199.94 0s59.33 16 85.33 47.52c14.6 17.7 28.42 40.65 40.36 66.95 19.38 3.31 35.21 7.67 47.19 13A45.67 45.67 0 01400 170.66c-.78 27.25-7.76 57.11-10.73 68.68-3.74 14.63-14.79 29.41-30.43 35.6L357 287.59c-1.78 8.09-4.88 16-7.86 23.58a160.22 160.22 0 01-149.2 101.65z\",\n  fill: \"#fff\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M198.9 30.14C270 30.14 327.59 182.9 327.59 254a128.69 128.69 0 11-257.39 0c0-71.1 57.62-223.86 128.7-223.86z\",\n  fill: \"#fcfbfa\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M362.08 153.43l-52.5 18.52s8.13 24.71 8.2 24.88 52.29-6.73 52.29-6.73zm-326.37 0l52.5 18.52s-8.13 24.71-8.2 24.88-52.29-6.73-52.29-6.73z\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M144.87 149.06c13.19.2 16.07 11.17 16.55 13.78a215.77 215.77 0 013.28 27.06 34.65 34.65 0 01-.69 7.57 226.58 226.58 0 00-2.59-18.19c-.48-2.6-3.36-13.58-16.55-13.78-8-.12-33.55.8-59 4.48a360.93 360.93 0 016-17.26 445.49 445.49 0 0153-3.66zm182.47 99.22c-46.35-2.39-85.94-17.16-94.88-22.53-7-3.34-15.85-10.39-18.41-28-1.71 19.45 2 37.18 20.22 45.93 1.35.81 36.32 18.12 92.74 21.08.29-3.54.45-7.11.45-10.73.01-1.89-.04-3.8-.12-5.75zm-256.76 0c46.35-2.39 85.94-17.16 94.88-22.53 7-3.34 15.85-10.39 18.41-28 1.71 19.45-2 37.18-20.22 45.93-1.35.81-36.32 18.12-92.74 21.08-.29-3.54-.45-7.11-.45-10.73-.01-1.89.04-3.8.12-5.75zm182.2-99.22c-13.19.2-16.07 11.17-16.55 13.78a215.77 215.77 0 00-3.23 27.05 34.65 34.65 0 00.69 7.57c.66-6.54 1.59-12.78 2.59-18.19.48-2.6 3.36-13.58 16.55-13.78 8-.12 33.55.8 59 4.48a360.93 360.93 0 00-6-17.26 445.49 445.49 0 00-53.05-3.65z\",\n  fill: \"#e0e0e0\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-5\",\n  d: \"M86.32 135.13C99 104.47 114.12 78 130.19 58.48 152 32 175.14 18.57 198.9 18.57s46.86 13.42 68.7 39.9c16.09 19.51 31.26 46 43.87 76.66l.62 1.49-1.6-.21c-4.45-.59-8.09-1-12.53-1.5l-.54-.06-.22-.5c-14.2-33.19-38.49-76.53-69.85-94.65-9.48-5.48-19.06-8.26-28.45-8.26s-19 2.78-28.45 8.26c-31.31 18.09-55.52 61.28-69.84 94.65l-.22.5-.54.06c-4.46.48-8.1.91-12.53 1.5l-1.6.21zm242.5 97.12c-3.48-.09-7-.23-10.48-.43l-1.08-.06-.14-1.07c-3.09-24.4-10.15-53-19.87-80.42l-.71-2 2.11.28c4 .54 7.88 1.12 11.58 1.75l.76.13.25.73c9.33 27.41 16 55.69 18.89 79.64l.18 1.49z\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M317.34 170.43c-1.88-6.43-3.91-12.87-6.09-19.27l-.25-.73-.76-.13c-3.7-.63-7.6-1.21-11.58-1.75l-2.11-.28.71 2c2.16 6.09 4.17 12.23 6.05 18.37 6.75.76 10.57 1.3 14.03 1.79z\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-5\",\n  d: \"M68.52 230.24c2.85-24 9.56-52.24 18.89-79.64l.25-.73.76-.13c3.7-.62 7.59-1.21 11.58-1.75l2.11-.28-.71 2c-9.73 27.45-16.78 56-19.87 80.42l-.14 1.07-1.08.06c-3.48.2-7 .34-10.47.43h-1.5z\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M88.43 149.73l-.76.13-.25.73c-2.18 6.41-4.22 12.87-6.1 19.31 6.53-.83 8.43-.73 13.88-1.31 1.92-6.31 4-12.63 6.21-18.88l.71-2-2.12.29c-4 .52-7.87 1.1-11.57 1.73z\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-5\",\n  d: \"M198.9 394.25a140.34 140.34 0 01-130.57-88.88 142.07 142.07 0 01-9.59-57.12v-.88h.88c4.58-.1 7.71-.24 11-.41l1-.05v1a127.72 127.72 0 008.5 52.23 127.41 127.41 0 00210.69 42.06 126.21 126.21 0 0026.84-42 127.66 127.66 0 008.5-52.24v-1l1 .05c4.55.23 7.69.33 11 .41h.88v.88a142.09 142.09 0 01-9.59 57.07 140.19 140.19 0 01-130.54 88.88z\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M72 264.28a138.12 138.12 0 01-.34-16.81v-1l-1 .05c-3.29.17-6.42.3-11 .41h-.88v.88a149.06 149.06 0 00.38 16.87h.42c4.23-.07 8.36-.19 12.28-.38zm267-16.91h-.88c-3.31-.08-6.45-.17-11-.41l-1-.05v1a138.07 138.07 0 01-.32 16.65l12.84.55a148.91 148.91 0 00.38-16.86z\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M346.25 250.67a305.5 305.5 0 01-79.48-10.24 191.73 191.73 0 01-32.49-11.81l-.26-.19c-21.85-10.47-22.71-31.49-20.68-50.63.51-4.83-1.25-11.24-6.36-14.63a14.46 14.46 0 00-16.06 0c-5.1 3.39-6.87 9.77-6.36 14.59 2 19.16 1.17 40.17-20.68 50.64l-.26.12a191.26 191.26 0 01-32.49 11.94 305.51 305.51 0 01-79.48 10.24h-.12A24.54 24.54 0 0128 232.1c-4.11-16-9.65-40.14-10.29-62.72a22.29 22.29 0 0113.19-21.06c30.18-13.44 91.25-18.43 117.3-18.06 9.58.14 17.94 3.59 24.2 10a65 65 0 0126.6-6.15 65 65 0 0126.54 6.12c4.43-4.53 12.17-9.85 24.2-10 15.63-.22 82.88 2.68 117.3 18a22.18 22.18 0 0113.19 21c-.65 22.63-6.18 46.86-10.29 62.9a24.54 24.54 0 01-23.52 18.58zM252.94 150c-12.65.19-15.25 10.87-15.65 13a216.32 216.32 0 00-3.29 26.94c-.12 10.32 3.58 17.4 11 21 27.6 12.31 59.68 18.39 98.06 18.58a6.51 6.51 0 006.34-4.85c3.65-14.26 8.57-35.46 9.13-54.94a4.58 4.58 0 00-2.72-4.33c-26.33-11.7-82.43-15.72-102.87-15.4zM42.1 165.44a4.58 4.58 0 00-2.72 4.33c.56 19.44 5.48 40.67 9.13 54.94a6.49 6.49 0 006.31 4.85c38.41-.19 70.51-6.28 98.13-18.6 7.39-3.6 11.08-10.69 11-21.05a214.6 214.6 0 00-3.3-26.9c-.39-2.14-3-12.82-15.65-13-12-.2-73.25 2.22-102.9 15.43z\"\n});\n\nvar SvgEgg = function SvgEgg(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    \"data-name\": \"Layer 1\",\n    viewBox: \"0 0 400 412.82\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgEgg, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/egg.4b5fffb0.svg\";\nexport { ForwardRef as ReactComponent };","import {createContext} from \"react\"\n\nconst AlertContext = createContext()\n\nexport default AlertContext;","import React, {useContext} from \"react\"\nimport AlertContext from \"../../../context/AlertContext/AlertContext\"\n\nimport \"./Alerts.styles.css\"\n\nconst Alerts = () => {\n    const alertContext = useContext(AlertContext)\n    return(\n        alertContext.alerts.length > 0 && \n        alertContext.alerts.map( alert => (\n            <div key = {alert.id} className={\"alert alert-\"+alert.type}>\n                <p>{alert.msg!==\"\" ? alert.msg: \"Some error\"}</p>\n            </div>\n        ))\n    )\n}\n\nexport default Alerts","import styled from 'styled-components';\n\nexport const StyledHeader = styled.div`\n  background: #1c1c1c;\n  padding: 0 2px;\n  box-sizing: border-box;\n  height: 10vh;\n  padding: 1vh 1vw;\n\n  .header-content {\n    max-width: 1280px;\n    height: 8vh;\n    margin: 0 auto;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    @media screen and (max-width: 500px) {\n      max-width: 1280px;\n      min-height: 0px;\n    }\n  }\n\n\n  .logo{\n    backgroundColor:white;\n    width: 50px;\n    height: 8vh;\n  }\n  .signinButtons{\n    font-family: 'Abel', sans-serif;\n    border-radius: 10px;\n    display: flex;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    padding: 5px;\n  }\n  .logOutButton{\n    font-family: 'Abel', sans-serif;\n    border-radius: 10px;\n    display: flex;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    padding: 0px;\n  }\n  .loginInfo-container{\n    ${'' /* display: flex; */}\n    flex-direction: column;\n    align-items: center;\n    padding: 10px;\n    width: 220px;\n    overflow: wrap;\n    text-align:right;\n    irems-align: right;\n    align-items: end;\n\n    position: relative;\n    box-sizing: border-box;\n    z-index: 200;\n  }\n  .loginInfo{\n    ${'' /* border-radius: 10px; */}\n    transition: 0.5s;\n    ${'' /* height: 200px; */}\n    width: 220px;\n    overflow: hidden;\n    position: absolute;\n    top: 6vh;\n    left: -10px;\n    z-index:201;\n    background: #1f2735;\n\n    h1{\n    font-size: 16px;\n    margin: 0;\n    }\n  }\n  .hidden{\n    height: 0;\n    transition: 0.5s;\n  }\n  .menu-hidden{\n    color: white;\n    cursor: pointer;\n  }\n  .menu-shown{\n    color: #316aff;\n    corsor: pointer;\n  }\n  .logininfo-item{\n    overflow:visible;\n    height: 40px;\n    font-size: 13px;\n    display: flex;\n    font-family: arial;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    border-bottom: 1px solid white;\n    transition: 0.3s;\n  }\n  .logininfo-item:hover{\n    transition: 0.3s;\n    color: white;\n    background-color: #316aff;\n    cursor: pointer;\n    border-bottom: 1px solid white;\n  }\n  .logininfo-item{\n    background-color: black;\n\n    button{\n      border: none;\n      width: 100%;\n      height: 100%;\n    }\n    button:hover{\n      border: none;\n      border-radius: none;\n      background-color: #316aff;\n      color: white;\n\n\n    }\n  }\n`;\n\n\n\n","/* eslint-disable no-unused-vars */\nimport React, { useState, useContext, useEffect } from \"react\"\n\n// importting components\nimport RMDBLogo from \"../../images/reactMovie_logo.png\"\nimport TMDBLogo from \"../../images/tmdb_logo.svg\"\nimport LogoutButton from \"../LogoutButton/LogoutButton\"\nimport { ReactComponent as EggLogo } from \"../../images/egg.svg\"\nimport Alerts from \"../Alerts/Alerts\"\n\n//  importing context\nimport AuthContext from \"../../../context/Authentication/authenticationContext\"\n\n\n\n// importing styles\nimport { StyledTMDBLogo, StyledRMDBLogo, StyledHeader } from \"./StyledHeader\";\nimport { Link } from \"react-router-dom\";\n\nconst Header = () => {\n    const authContext = useContext(AuthContext)\n\n    const { isAuthenticated, user, loadUser } = authContext\n\n    const style = { display: \"flex\", color: \"white\", justifyContent: \"space-between\" }\n    useEffect(() => {\n        // loadUser()\n        // console.log(\"in the header comp authContext = \", authContext)\n    }, [isAuthenticated, user])\n\n    const [show, setShow] = useState(false)\n\n    const loginInfo = (\n        <div className={show ? \"loginInfo\" : \"loginInfo hidden\"}>\n            {user && <Link to={\"/user/\" + user._id}><div className=\"logininfo-item\">My account</div></Link>}\n            <div className=\"logininfo-item\">{user ? user.email : \"\"}</div>\n            <div className=\"logininfo-item\">Movies Rated : {user ? user.ratings.length : \"\"}</div>\n            <div className=\"logininfo-item\">Movies Reviewed : {user ? user.movies_reviewed.length : \"\"}</div>\n            <div className=\"logininfo-item\">Movies in Watchlist : {user ? user.watchlist.length : \"\"}</div>\n\n            <div className=\"logininfo-item\"><LogoutButton /></div>\n        </div>\n    )\n\n    const toggleShow = () => {\n\n        setShow(!show)\n    }\n\n\n\n    return (\n        <StyledHeader>\n            <div className=\"header-content\" style={style}>\n                <Link to=\"/\" className=\"logo\">\n                    <EggLogo className=\"logo\" />\n                </Link>\n                {\n                    isAuthenticated ?\n                        <div className=\"loginInfo-container\" onClick={toggleShow}>\n                            <i className={show ? \"fa fa-user menu-shown\" : \"fa fa-user menu-hidden\"} aria-hidden=\"true\" onClick={toggleShow}></i>\n                            {loginInfo}\n                        </div>\n                        :\n                        <div className=\"signinButtons\">\n                            <Link to=\"/signin\" style={{ marginRight: \"5px\" }}>Sign In </Link>\n                            <a href=\"/\"> | </a>\n                            <Link to=\"/signup\" style={{ marginLeft: \"5px\" }}> Signup</Link>\n                        </div>\n                }\n            </div>\n        </StyledHeader>\n    )\n}\nexport default Header","\nimport styled from 'styled-components';\n\nexport const StyledFooter = styled.div`\n  background: #1c1c1c;\n  padding: 0 20px;\n  box-sizing: border-box;\n  font-family: 'Abel', sans-serif;  \n  min-height:10vh;\n  a{\n      color: white;\n      text-decoration: none;\n      font-size:22px;\n\n  }\n  .footer-content {\n    max-width: 1280px;\n    min-height: 30px;\n    height: 10vh;\n    padding: 0.5vh  0;\n    \n    a{\n      font-size: 22px;;\n    }\n    margin: 0 auto;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    @media screen and (max-width: 500px) {\n      max-width: 1280px;\n      min-height: 0px;\n    }\n  }\n`;\n\n\n\n\n","import React from 'react';\nimport FontAwesome from 'react-fontawesome';\n\n// importting components\n\n// importing styles\nimport { StyledFooter } from './StyledFooter';\n\nconst Footer = () => (\n  <StyledFooter>\n    <div className=\"footer-content\">\n      <a href=\"https://github.com/AditiDey\" target=\"_blank\">\n        Made with ❤ by Aditi\n      </a>\n      <a href=\"https://github.com/AditiDey/movierecommendation\" target=\"_blank\">\n        <FontAwesome className=\"fa fa-github\" name=\"clock-o\" />\n      </a>\n    </div>\n  </StyledFooter>\n);\n\nexport default Footer;\n","// Configuration for TMDB\n// To se the latest configuration fetch it from https://api.themoviedb.org/3/configuration?api_key=<API_Key>\n// Read more about the API here: https://developers.themoviedb.org/\n\nconst API_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '33bb8436c172b0643a6db970caa59640';\nconst IMAGE_BASE_URL = 'http://image.tmdb.org/t/p/';\n\nconst SEARCH_BASE_URL = `${API_URL}search/movie?api_key=${API_KEY}&query=`;\nconst POPULAR_BASE_URL = `${API_URL}movie/popular?api_key=${API_KEY}`;\n    \n// Sizes: w300, w780, w1280, original\nconst BACKDROP_SIZE = 'w1280';          // Width of the image\n// w92, w154, w185, w342, w500, w780, original\nconst POSTER_SIZE = 'w500';          // Width of the image\n\nexport { API_URL, API_KEY, IMAGE_BASE_URL, BACKDROP_SIZE, POSTER_SIZE, SEARCH_BASE_URL, POPULAR_BASE_URL };\n","import styled from 'styled-components';\n\nexport const StyledHeroImage = styled.div`\n  background: ${props =>\n    `linear-gradient(\n      to bottom, rgba(0,0,0,0)\n      39%,rgba(0,0,0,0)\n      41%,rgba(0,0,0,0.65)\n      100%\n    ),\n    url('${props.image}'), #1c1c1c`};\n  background-size: 100%, cover !important;\n  background-position: center, center !important;\n  width: 100%;\n  height: 80vh;\n  position: relative;\n  animation: animateHeroimage 1s;\n\n  .heroimage-content {\n    max-width: 1280px;\n    padding: 20px;\n    margin: 0 auto;\n  }\n\n  .heroimage-text {\n    z-index: 100;\n    max-width: 700px;\n    position: absolute;\n    bottom: 40px;\n    margin-right: 20px;\n    min-height: 100px;\n    background: rgba(0, 0, 0, 0);\n    color: #fff;\n\n    h1 {\n      font-family: 'Abel', sans-serif;\n      font-size: 48px;\n      color: #fff;\n\n      @media screen and (max-width: 720px) {\n        font-size: 38px;\n        color: #fff;\n      }\n    }\n\n    p {\n      font-family: 'Abel', sans-serif;\n      font-size: 22px;\n      line-height: 26px;\n      color: #fff;\n\n      @media screen and (max-width: 720px) {\n        font-size: 16px;\n        line-height: 20px;\n        color: #fff;\n      }\n    }\n\n    @media screen and (max-width: 720px) {\n      max-width: 100%;\n    }\n  }\n\n  @keyframes animateHeroimage {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n`;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { StyledHeroImage } from \"./StyledHeroImage\"\n\nconst HeroImage = ({image, title, text}) => (\n    <StyledHeroImage image={image}>\n        <div className=\"heroimage-content\">\n            <div className=\"heroimage-text\">\n                    <h1>{title}</h1>\n                    <p>{text}</p>\n            </div>\n        </div>\n    </StyledHeroImage>\n)\n\nHeroImage.propTypes = {\n    image: PropTypes.string,\n    title: PropTypes.string,\n    text: PropTypes.string\n}\nexport default HeroImage","\nimport styled from 'styled-components';\n\nexport const StyledSearchBar = styled.div`\n  width: 100%;\n  height: 10vh;\n  background: #1c1c1c;\n  padding: 1.5vh 20px 1.5vh 20px;\n  box-sizing: border-box;\n  color: #fff;\n`;\n\nexport const StyledSearchBarContent = styled.div`\n  max-width: 1280px;\n  width: 100%;\n  height: 7vh;\n  background: #353535;\n  margin: 0 auto;\n  border-radius: 40px;\n  position: relative;\n  color: #fff;\n  .search-content{\n    border:1px solid red;\n  }\n  .fa-search {\n    font-size: 3vh;\n    position: absolute;\n    left:30px;\n    top: 2vh;\n    color: #fff;\n    z-index: 1000;\n  }\n\n  input {\n    font-family: 'Abel', sans-serif;\n    position: absolute;\n    height: 7vh;\n    left: 0px;\n    ${'' /* margin: 8px 0; */}\n    padding: 0 0 0 60px;\n    border: 0;\n    width: 95%;\n    background: transparent;\n    color: #fff;\n    box-sizing: border-box;\n    font-size:22px;\n\n    :focus {\n      outline: none;\n    }\n\n    @media screen and (max-width: 720px) {\n      font-size: 28px;\n    }\n  }\n`;\n","import React, {useState, useRef} from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport FontAwesome from \"react-fontawesome\"\n\nimport { StyledSearchBar, StyledSearchBarContent } from \"./StyledSearchBar.js\"\nconst SearchBar = ( { callback } ) => {\n    const [state, setState] = useState(\"\")\n    const timeOut = useRef(null);\n\n    const doSearch = (event) => {\n        const { value } = event.target\n        \n        clearTimeout(timeOut.current)\n        setState(value)\n        \n        timeOut.current = setTimeout(() => callback(value), 500)\n    }\n    return (\n        <StyledSearchBar>\n            <StyledSearchBarContent>\n\n                <FontAwesome className=\"fa-search\" name=\"search\" size=\"2x\" />\n                <input\n                    type=\"text\"\n                    placeholder=\"Search movies\"\n                    onChange={doSearch}\n                    value={state}\n                />\n\n            \n            </StyledSearchBarContent>\n        </StyledSearchBar>\n    )\n}\n\nSearchBar.propTypes = {\n    callback: PropTypes.func\n}\n\nexport default SearchBar","import styled from 'styled-components';\n\nexport const StyledGrid = styled.div`\n  max-width: 1280px;\n  margin:  auto;\n  padding: 0 20px;\n  h1 {\n    font-family: 'Abel', sans-serif;\n    font-size: 42px;\n    margin-top: 0;\n\n    @media screen and (max-width: 768px) {\n      font-size: 22px;\n    }\n  }\n`;\n\nexport const StyledGridContent = styled.div`\n  display: grid;\n  grid-template-columns: repeat(5, minmax(100px, 1fr));\n  grid-gap: 40px;\n  position: relative;\n\n  .grid-element {\n    animation: animateGrid 0.5s;\n  }\n\n  @keyframes animateGrid {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  @media screen and (max-width: 1024px) {\n    grid-template-columns: repeat(4, minmax(100px, 1fr));\n  }\n\n  @media screen and (max-width: 768px) {\n    grid-template-columns: repeat(3, minmax(100px, 1fr));\n  }\n\n  @media screen and (max-width: 600px) {\n    grid-template-columns: repeat(2, minmax(100px, 1fr));\n  }\n\n  @media screen and (max-width: 375px) {\n    grid-template-columns: repeat(1, 1fr);\n  }\n`;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\n// importing Styles\nimport { StyledGrid, StyledGridContent } from \"./StyledGrid\"\n\nconst Grid = ({ header, children }) =>(\n    <StyledGrid>\n        <h1>{header}</h1>\n        <StyledGridContent>{children}</StyledGridContent>\n    </StyledGrid>\n)\n\n\nGrid.propTypes = {\n    header: PropTypes.string,\n    // children: PropTypes.       -----------> children are auto generated so no proptype checking req\n}\nexport default Grid","import styled from 'styled-components';\n\nexport const StyledLoadMoreBtn = styled.button`\n  background: #000;\n  width: 25%;\n  min-width: 200px;\n  height: 70px;\n  color: #fff;\n  cursor: pointer;\n  transition: all 0.3s;\n  border-radius: 40px;\n  font-family: 'Abel', sans-serif;\n  font-size: 28px;\n  max-width: 1280px;\n  display: block;\n  margin: 20px auto;\n  padding: 0 20px;\n  outline: none;\n\n  :hover {\n    opacity: 0.8;\n    border: 3px solid black;\n  }\n`;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\n\n//  importing styles\nimport { StyledLoadMoreBtn } from \"./StyledLoadMoreBtn\"\n\nconst LoadMoreBtn = ({ text, callback}  ) => (\n    <StyledLoadMoreBtn type=\"button\" onClick={callback}>\n        {text}\n    </StyledLoadMoreBtn>\n)\n\nLoadMoreBtn.propTypes = {\n    text: PropTypes.string,\n    callback: PropTypes.func\n}\nexport default LoadMoreBtn","import styled from 'styled-components';\n\nexport const StyledSpinner = styled.div`\n  border: 5px solid #f3f3f3; /* Light grey */\n  border-top: 5px solid #16d47b; /* Blue */\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n  animation: spin 0.8s linear infinite;\n  margin: 20px auto;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`;\n","import React from \"react\"\n\nimport { StyledSpinner } from \"./StyledSpinner.js\"\n\nconst Spinner = () => <StyledSpinner />\n\nexport default Spinner","import styled from 'styled-components';\n\nexport const StyledMovieThumb = styled.div`\n  img {\n    width: 100%;\n    height: auto;\n    /* max-height: 350px; */\n    transition: all 0.3s;\n    object-fit: cover;\n    border-radius: 20px;\n    position:relative;\n\n    :hover {\n      opacity: 0.8;\n    }\n\n     ${'' /* @media screen and (max-width: 1024px) {\n      height: 300px;\n    }\n\n    @media screen and (max-width: 768px) {\n      height: 350px;\n    }\n\n    @media screen and (max-width: 600px) {\n      max-height: 300px;\n    }\n\n    @media screen and (max-width: 375px) {\n      max-height: 450px;\n    }  */}\n\n    .clickable {\n      cursor: pointer;\n    }\n  }\n`;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\n\n\n//  importing the style\nimport { StyledMovieThumb } from \"./StyledMovieThumb\"\nimport { Link } from \"react-router-dom\"\n\nconst MovieThumb = ({image, movieId, clickable}) => (\n    <Link to={\"/movie/\"+movieId}>\n        <StyledMovieThumb>\n            {\n                clickable  ? \n                    <img className=\"clickable\" src={image} alt=\"movie Thumbnail\" />\n                : \n                    <img src={image} alt = \"movie Thumbnail non clickable\" />   \n            }\n        </StyledMovieThumb>\n    </Link>\n)\n\nMovieThumb.propTypes={\n    image: PropTypes.string,\n    movieId: PropTypes.number,\n    clickable: PropTypes.bool\n}\n\nexport default MovieThumb","import React from \"react\"\nimport \"./selections.css\"\n\nconst Selections = ({collections, handelClick}) => {\n    return(\n        <div className=\"selections\">\n            <div className=\"selections-container\">\n                {collections.map(collectionName =>  <button value={collectionName} onClick={handelClick} key={collectionName} className=\"selections-item\">{collectionName}</button>)}\n            </div>\n        </div>\n    )\n}\n\nexport default Selections","import {useState, useEffect, useCallback} from \"react\"\nimport axios from \"axios\"\nimport { session } from \"passport\"\n\nconst useFetchFeed = (movieID) => {\n    const [state, setState] = useState({})\n    const [loading, setLoading] = useState(true)\n    const [error, setError] = useState(false) \n\n    const fetchData = useCallback(async () => {\n        setError(false)\n        setLoading(true)\n \n        try {\n            const endpoint = \"/api/reviews/feed\"\n            const result = await axios.get(endpoint)\n            console.log(\"resilt in useFetchFeed = \", result)\n            setState({\n                ...result\n            })\n\n        } catch (error) {\n            console.error(error.message)\n            setError(true)\n        }\n        setLoading(false)\n    }, [movieID])\n\n    useEffect( () => {\n        // if(sessionStorage[\"feed\"] && sessionStorage[\"feed\"]!=={}){\n        //     console.log(\"grabbing Feed from session storage\")\n        //     setState(JSON.parse(sessionStorage[\"feed\"]))\n        //     setLoading(false)\n        // }else{\n            console.log(\"making an api req for getting the feed\")\n            fetchData()\n        // }\n    }, [fetchData, movieID])\n\n    useEffect(\n        () => {\n            sessionStorage.setItem(\"feed\",  JSON.stringify(state))\n        },\n        [movieID, state]\n    )\n    return [state, loading, error]\n}\n\nexport default useFetchFeed","\nconst getDaysAgo = (difference) => {\n    // takes in difference between 2 dates in milliseconds and returns days ago\n    const days = Math.floor(difference/(24*60*60*1000))\n    const week = Math.floor(days/7)\n    const months = Math.floor(days/30)\n    const year = Math.floor(months/12)\n    // console.log(\"Days = \", days + \"days\")\n    if(year !== 0) {  \n\n        return year + \" years ago\"\n    }else if(months !== 0) {\n        return months + \" month ago\"\n    }else if(week !== 0) {\n        return week + \" month ago\"\n    }else if(days !== 0){ \n        return days + \" month ago\"\n    }else if(days === 0){    \n        return \"Today\"\n    }\n}\nconst getDate = (date) => {\n    //  Takes in a string and returns a date in the format we want\n    var month = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \n                            \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    var days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    date = new Date(date)\n\n    const Year = 1900 + date.getYear()\n    const Month = month[date.getMonth()]\n    const ddate = date.getDate()\n    const day = days[date.getDay()]\n    const FinalDate =  String(ddate) + \" \" +String(Month) + \" \" +String(Year) \n    const postedTime = date.getTime()\n    const currentTime = new Date().getTime()\n    const DaysAgo = getDaysAgo(currentTime-postedTime)\n    // console.log(\"Days Ago = \", getDaysAgo(currentTime-postedTime))\n    return [FinalDate, DaysAgo]\n}\n\n\nexport {\n    getDate, \n    getDaysAgo\n}","import React from \"react\"\nimport { Link } from \"react-router-dom\"\n\nimport \"./FeedItem.Style.css\"\n\nimport {\n    IMAGE_BASE_URL, POSTER_SIZE,\n} from \"../../../config\"\n\nimport {\n    getDate,\n    getDaysAgo\n} from \"./utils\"\n\nconst FeedItem = (props) => {\n\n    let { review } = props\n    // console.log(\"Review.movie_data ==>> \", review.movie_data)\n    if (review.movie_data) {\n        return (\n            <div className=\"feeditem\">\n                <Link to={\"/movie/\" + review.movie_data.id}>\n                    <img src={review.movie_data.poster_path ? `${IMAGE_BASE_URL}${POSTER_SIZE}${review.movie_data.poster_path}` : \"\"} />\n                </Link>\n                <div className=\"feed-info\">\n                    <div className=\"movie-title\">\n                        {review.movie_data.original_title}\n                    </div>\n\n                    <div className=\"username\">\n                        <Link to={\"/user/\" + review.userID}>\n                            <i className=\"fa fa-user\" aria-hidden=\"true\"></i>  {review.username}\n                        </Link>\n                    </div>\n\n                    <div className=\"postedAt\">\n                        <i className=\"fa fa-clock-o\" aria-hidden=\"true\"></i>   <span>{getDate(review.date)[0]}</span>\n                    </div>\n\n                    <div className=\"review-text\">\n                        <p>\n                            {review.review.length > 150 ?\n                                <span><strong>Review :</strong>   {review.review.slice(0, 250)}  <Link to={\"/movie/\" + review.tmdbMovieId}> Read More... </Link> </span>\n                                :\n                                <span>\n                                    <strong>Review :</strong> {review.review}\n                                </span>\n                            }\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n        )\n    } else {\n        return \"\"\n    }\n}\n\n\nexport default FeedItem","import React from \"react\"\n\nimport useReviewsFetch from \"../../hooks/useFetchFeed\"\nimport Spinner from \"../Spinner/Spinner\"\nimport Feeditem from \"../FeedItem/FeedItem.component\"\nimport {Link} from \"react-router-dom\"\n\n\n\nimport \"./Feed.Styles.css\"\n\nconst Feed = () => {\n    const [feed, loading, error] = useReviewsFetch()\n\n   \n    if (error){\n        return (\n            <div>Something went wrong <br/> \n               this is the error ---- {error}\n            </div>\n        )\n    }\n    if (loading) return <Spinner />\n\n    console.log(\"Feed in feed.jsx ==> \", feed)\n    return (\n\n\n        <div class=\"feed-container\">\n            <h1> Feed </h1>\n            <div className=\"feed\">\n                {\n                    feed.data.map(review => (\n                        <Feeditem review={review}/>\n                    ))\n                }\n            </div>\n        </div>\n    )\n}\n\n\n\nexport default Feed\n\n\n\n\n\n","import React, {useEffect, useContext, useState} from \"react\"\n// eslint-disable-next-line\nimport {Link} from \"react-router-dom\"\nimport axios from \"axios\"\n \n//  importing components\nimport Spinner from \"../../components/Spinner/Spinner\"\nimport Grid from \"../../components/Grid/Grid\"\nimport MovieThubm from \"../../components/MovieThubmnail/MovieThumb\"\nimport NoImage from \"../../images/no_image.jpg\"\nimport Alerts from \"../../components/Alerts/Alerts\"\n\n//  importing endpoint helpers \nimport { IMAGE_BASE_URL, POSTER_SIZE } from \"../../../config\"\nimport { API_URL, API_KEY } from \"../../../config\"\n\n// importing stylesheet\nimport \"./Recommendations.styles.css\"\n\n//  importing context \nimport AuthContext from \"../../../context/Authentication/authenticationContext\"\nimport AlertContext from \"../../../context/AlertContext/AlertContext\"\n\nconst RecommendationsPage =(props) => {\n    const authContext = useContext(AuthContext)\n    const alertContext = useContext(AlertContext)\n     // eslint-disable-next-line\n    const {user, loading, setLoadingtrue, setLoadingFalse, ratings, loadUser, isAuthenticated} = authContext;\n    const {setAlert} = alertContext\n\n\n    useEffect(  () => {\n        loadUser()\n        console.log(\"user = \", user)\n        if (user){\n\n            console.log(\"user.ratings = \", user.ratings )\n        }\n       \n     // eslint-disable-next-line\n    }, [ isAuthenticated])\n\n\n    \n    \n    const [recommendations, setRecommendations] = useState([])\n    useEffect( () => {\n        console.log(\"The use effect for recommendations was called\")\n        console.log(\"recommendations in state => \", recommendations)\n    }, [recommendations])\n// ------------------------------------------------------------------------user based handeler------------------------------------------------\n    const generateCollaborativeFilteringRecommendations = async (event) => {\n\n        try {\n            console.log(\"target.value = \", event.target.value)\n            const recommender_type = event.target.value\n            setLoadingtrue()\n                let userRatings = user.ratings;\n                let data = {\n                    recommender_type: await JSON.stringify(recommender_type),\n                    userID: await JSON.stringify(user._id),\n                    ratings: await JSON.stringify(userRatings)\n                } \n                // console.log(\"params = \", params)\n            \n                try{\n                    let config = {\n                        headers:{\n                            'Content-Type': 'application/json;charset=UTF-8',\n                            \"Access-Control-Allow-Origin\": \"*\",\n                        }\n                    }\n                    console.log(\"userID = \", data.userID);\n                    console.log(\"Ratings = \", data.ratings)\n                    data = await JSON.stringify(data)\n                    \n                    let res = []\n                    if (recommender_type=== \"userBasedCF\"){\n                        console.log(\"making pst request to 'https://keepwatching-server.herokuapp.com/recommendations/usercolaborativefiltering'\")\n                        res = await axios.post('https://keepwatching-server.herokuapp.com/recommendations/usercolaborativefiltering', data, config)\n                    }else{\n                        console.log(\"making pst request to 'https://keepwatching-server.herokuapp.com/recommendations/itemcolaborativefiltering'\")\n                        res = await axios.post('https://keepwatching-server.herokuapp.com/recommendations/itemcolaborativefiltering', data, config)\n                    }\n                    console.log(\"recommendations = \", res.data)\n                    \n                    \n                    \n                    console.log(\"Recommendations id recieved --->  making the tmdb api calls\")\n                    let recommended_movies = []\n                    setLoadingtrue()\n                    try{\n                        for (let i = 0; i<res.data.length; i++){\n                            let id = res.data[i]\n                            const endpoint = `${API_URL}movie/${id}?api_key=${API_KEY}`\n                            const result = await ( await fetch(endpoint) ).json()\n                            console.log(\"results after the movie call = \", result)\n                            recommended_movies.push(result)\n                        }\n                    }catch(err){\n                        console.log(\"some error in the for loop in the recommendations.jsx\")\n                    }\n\n                    setRecommendations(recommended_movies)\n                    console.log(\"All the api calls success : - setting loading to false\")\n                    setLoadingFalse()\n                    return \n\n                }catch(error){\n                    setLoadingFalse()\n                    console.log(\"error in the catch block of the attempt to fetch recommendations block in the recommendations.jsx\")\n                    console.log(\"error = \", error.message)\n                }\n                setLoadingFalse()\n        } catch (error) {\n            setLoadingFalse()\n            if(error.message === \"Cannot read property 'ratings' of null\"){\n                \n                setAlert(\"Please Login to use this feature\")\n            }else{\n                console.log(\"error in the catch block of generateRecommendations in recommendationpage.jsx\")\n                console.log(\"error = \", error.message)\n            }\n        }\n    }\n\n  \n\n    \n\n   if (recommendations.length  === 0  || loading){ \n       return(\n       <div className=\"recommendation-container\">\n            <div className=\"recommendations\">\n\n                <h1>Recommendation</h1>\n                {/* <br /> */}\n                <Alerts />\n                {!isAuthenticated &&<Link to=\"/signin\">Sign in to Get Recommendations</Link>}\n                    {\n                        loading ?\n                        <Spinner />\n                        :   \n                    <div >\n                            <button onClick={generateCollaborativeFilteringRecommendations} value=\"userBasedCF\" className=\"generateRecBtn\">Generate User Based Collaborative Filtering Recommendations</button>\n                            <button onClick={generateCollaborativeFilteringRecommendations} value=\"itemBasedCF\" className=\"generateRecBtn\">Generate Item Based Collaborative Filtering Recommendations</button>\n                    </div>\n                    }\n            </div>\n        </div>)\n\n    }else if (recommendations.length !== 0){\n        \n        return(\n            <div className=\"recommendation-route\">\n\n                <Grid header=\"Recommended Movies are:\" >\n                    {recommendations.map(movie => (\n                        <MovieThubm \n                            key={movie.id}\n                            clickable\n                            image={movie.poster_path ?`${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}`: NoImage}\n                            movieId={movie.id}\n                            movieName={movie.original_title}\n                        />\n                        ))\n                    }\n                </Grid>\n            </div>\n            )\n    }\n}\n\nexport default RecommendationsPage","import {useState, useEffect} from \"react\"\nimport  {\n    POPULAR_BASE_URL \n}\nfrom \"../../config\"\n\nconst useHomeFetch = (searchTerm) => {\n    const [state, setState] = useState( { movies: [] } )\n    const [loading, setLoading] = useState( false )\n    const [error, setError] = useState( false )\n \n    \n    const fetchMovies = async (endpoint) => {\n        setLoading(true)\n        setError(false)\n        \n        const isLoadMore = endpoint.search(\"page\")  // is page is present in the end point means we r loading more movies\n        try{\n            const result = await ( await fetch(endpoint) ).json();\n            // console.log(\"result == \", result)\n            setState(prev => (\n                    {\n                        ...prev,\n                        movies: \n                        ( isLoadMore !== -1 ?\n                         [...prev.movies, ...result.results]\n                         :\n                         [...result.results]),\n                        heroImage: prev.heroImage || result.results[0],\n                        currentPage: result.page,\n                        totalPages: result.total_pages\n                    }))\n            }catch(error){\n                setError(true)\n                console.error(error.message)\n            }\n            setLoading(false)\n        }\n        \n        useEffect(  () => {\n            if (sessionStorage.homeState){\n                // console.log(\"Loading data from session storage\")\n                setState(JSON.parse(sessionStorage.homeState));\n                setLoading(false)\n            }else{\n\n                console.log(\"Fetching from the movie db api\")\n                fetchMovies(POPULAR_BASE_URL)\n            }\n             }, [] )\n        \n        useEffect( () => {\n            if(!searchTerm){\n                // console.log(\"Writing to session storage\")\n                sessionStorage.setItem('homeState', JSON.stringify(state))\n            }\n        }, [searchTerm, state])\n    return [{state, loading, error}, fetchMovies]\n}\n\nexport default useHomeFetch","import React, {useState, useContext, useEffect}  from \"react\"\nimport axios from \"axios\"\nimport {  \n    IMAGE_BASE_URL, BACKDROP_SIZE, \n    POSTER_SIZE, SEARCH_BASE_URL, \n    POPULAR_BASE_URL \n}\nfrom \"../../config\"\n\n//  IMport components\nimport HeroImage from \"../components/HeroImage/HeroImage\"\nimport SearchBar from \"../components/SearchBar/SearchBar\"\nimport  Grid from \"../components/Grid/Grid\"\nimport LoadMoreBtn from \"../components/LoadMoreButton/LoadMoreBtn\"\nimport Spinner from \"../components/Spinner/Spinner\"\nimport MovieThubm from \"../components/MovieThubmnail/MovieThumb\"\nimport Selections from \"../components/selections/selections\"\nimport Feed from \"../components/Feed/Feed\"\nimport Recommendation from \"../pages/recommendations/Recommendations\"\n\n// import Footer from \"../components/Footer/Footer\"\nimport NoImage  from \"../images/no_image.jpg\"\n\n// importing custom hooks\nimport useHomeFetch from \"../hooks/useHomeFetch\"\n\n//  importing context\nimport AuthContext from \"../../context/Authentication/authenticationContext\"\nimport Axios from \"axios\"\nconst Home =  () =>{\n\n    const authContext = useContext(AuthContext)\n     // eslint-disable-next-line\n    const {isAuthenticated, loadUser} = authContext\n\n    const [selection, setSelection] = useState(\"Popular Movies\")\n    const [movieIndex , setMovieIndex] = useState(0)\n    useEffect(()=>{\n        loadUser()\n        // this will spin up  the recommendation server\n        axios.get(\"https://keepwatching-server.herokuapp.com/\")\n     // eslint-disable-next-line\n    }, [])\n    \n    const [searchTerm, setSearchTerm] = useState(\"\")\n    const [{state, loading, error}, fetchMovies] =  useHomeFetch(searchTerm);\n\n    const [heroImageState, setHeroImageState] = useState({\n        image:\"\",\n        title:\"\",\n        text:\"\"\n        })\n   \n    const loadMoreMovies = () =>{\n        const searchEndpoint = `${SEARCH_BASE_URL}${searchTerm}&page=${state.currentPage + 1}`;\n        const popularEndpoint = `${POPULAR_BASE_URL}&page=${state.currentPage+1}`;\n    \n        const endpoint = searchTerm !== \"\" ? searchEndpoint : popularEndpoint;\n        // console.log(\"ENDPOINT + =  \", endpoint)\n        fetchMovies(endpoint)\n   }\n    const handelClick = (event) => {\n        setSelection(event.target.value)\n    }\n    const searchMovies = (search) => {\n        const endpoint = search ? SEARCH_BASE_URL + search  : POPULAR_BASE_URL;\n        setSearchTerm(search);\n        fetchMovies(endpoint);\n    }\n\n\n\n    if (error) return <div> Something went wromg ....</div>\n    if (!state.movies[0]) return <Spinner />\n    return (\n       <div>\n        \n           {!searchTerm &&\n               (<HeroImage \n               image={`${IMAGE_BASE_URL}${BACKDROP_SIZE}${state.heroImage.backdrop_path}`}\n               title={state.heroImage.original_title}\n               text={state.heroImage.overview}\n           />)}\n                 \n           <SearchBar callback={searchMovies}/>\n           <Selections handelClick={handelClick} collections={[\"Popular Movies\", \"Feed\", \"Recommendations\"]}/>\n           {selection ===\"Popular Movies\" && <Grid header={searchTerm ? \"Search Results:\" : \"Popular Movies\"}>\n                {state.movies.map(movie => (\n                    <MovieThubm \n                        key={movie.id}\n                        clickable\n                        image={movie.poster_path ?`${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}`: NoImage}\n                        movieId={movie.id}\n                        movieName={movie.original_title}\n                    />\n                    ))\n                }\n                {loading || <LoadMoreBtn text=\"Load More\" callback={loadMoreMovies} />}\n           </Grid>}\n           {selection===\"Feed\" && <Feed />}\n           {selection===\"Recommendations\" && <Recommendation/>}\n           {loading && <Spinner /> }\n           \n           \n       </div>\n   )\n}\n\nexport default Home","import styled from 'styled-components';\n\nexport const StyledNavigation = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 70px;\n  background: #353535;\n  color: #fff;\n\n  .navigation-content {\n    max-width: 1280px;\n    margin: 0 auto;\n    padding: 0 20px;\n    width: 100%;\n\n    p {\n      font-family: 'Abel', sans-serif;\n      font-size: 22px;\n      float: left;\n      color: #fff;\n      padding-right: 10px;\n      text-decoration: none;\n\n      @media screen and (max-width: 768px) {\n        font-size: 16px;\n      }\n    }\n  }\n`;\n","import styled from 'styled-components';\nimport { IMAGE_BASE_URL, BACKDROP_SIZE } from '../../../config';\n\nexport const StyledMovieInfo = styled.div`\n  background: ${props =>\n    props.backdrop\n      ? `url('${IMAGE_BASE_URL}${BACKDROP_SIZE}${props.backdrop}')`\n      : '#000'};\n  background-size: cover !important;\n  background-position: center !important;\n  width: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n  animation: animateMovieinfo 1s;\n  height: 80vh;\n\n  .movieinfo-content {\n    max-width: 1280px;\n    min-height: 450px;\n    margin: 0 auto;\n    background: rgb(0, 0, 0, 0.7);\n    border-radius: 20px;\n    position: relative;\n  }\n\n  .movieinfo-thumb {\n    min-height: 450px;\n    width: 300px;\n    float: left;\n\n    @media screen and (max-width: 768px) {\n      width: 100% !important;\n    }\n  }\n\n  .movieinfo-text {\n    font-family: Arial, Helvetica, sans-serif;\n    padding: 40px;\n    color: #fff;\n    overflow: hidden;\n\n    h1 {\n      font-family: 'Abel', sans-serif;\n      font-size: 48px;\n      margin: 0;\n\n      @media screen and (max-width: 1000px) {\n        font-size: 32px !important;\n      }\n    }\n\n    h3 {\n      font-size: 16px;\n      line-height: 0;\n      margin-top: 30px;\n    }\n\n    p {\n      font-family: 'Abel', sans-serif;\n      font-size: 18px;\n      line-height: 26px;\n    }\n  }\n\n  .rating-director {\n    display: flex;\n    color:white;\n    font-family: 'Abel', sans-serif;\n    justify-content: flex-start;\n  }\n\n  .score {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 35px;\n    height: 35px;\n    background: #fff;\n    color: #000;\n    font-weight: 800;\n    border-radius: 25px;\n    margin: 0px 0 0 0;\n  }\n\n  .director {\n    margin: 0 0 0 40px;\n\n    p {\n      margin: 0;\n    }\n  }\n\n  @media screen and (max-width: 768px) {\n    min-height: 600px;\n    height: auto;\n  }\n\n  @keyframes animateMovieinfo {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n`;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport NoImage from \"../../images/no_image.jpg\"\n\nimport { IMAGE_BASE_URL, POSTER_SIZE } from \"../../../config\"\n\nimport MovieThumb from \"../MovieThubmnail/MovieThumb\"\nimport {StyledMovieInfo} from \"./StyledMovieInfo\"\n\n\nconst MovieInfo = ({ movie }) => {\n    return (\n        <StyledMovieInfo backdrop={movie.backdrop_path}>\n            <div className=\"movieinfo-content\">\n                <div className=\"movieinfo-thumb\">\n                    <MovieThumb\n                        image= {\n                            movie.poster_path ?\n                            `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}`\n                            :\n                            NoImage\n                        }\n                        clickable={false}\n                    />\n                </div>\n                <div className=\"movieinfo-text\">\n                        <h1>{movie.title}</h1>\n                        <h3>plot</h3>\n                        <p>{movie.overview} </p>\n                        <div className=\"rating-director\">                 \n                            <div>\n                                    <h3>IMDB Rating</h3>\n                                    <div className=\"score\">{movie.vote_average}</div>\n                            </div>\n                            <div className=\"director\">\n                                    <h3>DIRECTOR{movie.directors.length > 1? \"S\": \"\"}</h3>\n                                    <div className=\"\"> {movie.directors.map(director => {\n                                        return <p key={director.credit_id}>{director.name}</p>\n                                    })}</div>\n                            </div>\n                        </div>\n                </div>\n            </div>\n\n        </StyledMovieInfo>\n    )\n}\n\nMovieInfo.propTypes = {\n    movie: PropTypes.object,\n    directors: PropTypes.array\n}\n\nexport default MovieInfo","// Convert time to hours and minutes\nexport const calcTime = time => {\n  const hours = Math.floor(time / 60);\n  const mins = time % 60;\n  return `${hours}h ${mins}m`;\n};\n// Convert a number to money formatting\nexport const convertMoney = money => {\n  const formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n  });\n  return formatter.format(money);\n};\n","import styled from 'styled-components';\n\nexport const StyledMovieInfoBar = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: 50px;\n  height: 10vh\n  height: auto;\n  background: #1c1c1c;\n  padding: 10px 20px;\n  box-sizing: border-box;\n  font-family: 'Abel', sans-serif;\n  font-size: 20px;\n  border-top: none;\n  border-left:none;\n  .movieinfobar-content {\n    max-width: 1280px;\n    width: 100%;\n    margin: 0 auto;\n    color: #fff;\n  }\n\n  .movieinfobar-content-col {\n    float: left;\n    width: 33.33%;\n    box-sizing: border-box;\n    padding: 10px 20px 0 0;\n  }\n\n  .movieinfobar-info {\n    padding: 5px 0 0 10px;\n    float: left;\n  }\n\n  .fa-time,\n  .fa-revenue {\n    float: left;\n    margin-top: -4px;\n  }\n\n  .fa-budget {\n    float: left;\n    margin-top: -3px;\n  }\n\n  @media screen and (max-width: 768px) {\n    .fa-time,\n    .fa-revenue,\n    .fa-budget {\n      display: none;\n    }\n  }\n\n  @media screen and (max-width: 425px) {\n    font-size: 14px;\n  }\n`;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\n\nimport FontAwesome from \"react-fontawesome\"\nimport {calcTime, convertMoney} from \"../../../helpers\"\n\nimport {  StyledMovieInfoBar } from \"./StyledMovieInfoBar\"\nconst MovieInfoBar = (  { time, budget, revenue}  ) => (\n    <StyledMovieInfoBar>\n        <div className=\"movieinfobar-content\">\n            <div className=\"movieinfobar-content-col\">\n                <FontAwesome className=\"fa-time\" name=\"clock-o\" size=\"2x\" /> \n                <span className=\"movieinfobar-info\">\n                    Running Time: {calcTime(time)}\n                </span>\n            </div>\n            \n            <div className=\"movieinfobar-content-col\">\n                {\n                    budget !==0 \n                        ?\n                        (<>\n                            <FontAwesome className=\"fa-budget\" name=\"Money\" size=\"2x\" /> \n                            <span className=\"movieinfobar-info\">\n                                Budget: {convertMoney(budget)}\n                            </span>\n                        </>)\n                        :\n                        \"\"\n                }\n            </div>\n\n            <div className=\"movieinfobar-content-col\">\n                {\n                    revenue\n                        ?\n                        (<>\n                        <FontAwesome className=\"fa-revenue\" name=\"ticket\" size=\"2x\" /> \n                        <span className=\"movieinfobar-info\">\n                            Revenue: {convertMoney(revenue)}\n                        </span>\n                        </>)\n                        :\n                         \"\"\n                }\n            </div>\n        </div>\n    </StyledMovieInfoBar>\n)\n\nMovieInfoBar.propTypes = {\n    time: PropTypes.number,\n    budget: PropTypes.number,\n    revenue: PropTypes.number\n}\nexport default MovieInfoBar","import styled from 'styled-components';\n\nexport const StyledActor = styled.div`\n  font-family: 'Abel', sans-serif;\n  color: #fff;\n  background: #1c1c1c;\n  border-radius: 20px;\n  padding: 5px;\n  text-align: center;\n\n  img {\n    display: block;\n    width: 100%;\n    height: 200px;\n    object-fit: cover;\n    border-radius: 15px;\n  }\n\n  .actor-name {\n    display: block;\n    font-size: 18px;\n    margin: 10px 0 0 0;\n  }\n\n  .actor-character {\n    display: block;\n    font-size: 16px;\n    margin: 0 0 10px 0;\n  }\n`;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\n\nimport NoImage from \"../../images/no_image.jpg\"\nimport { IMAGE_BASE_URL, POSTER_SIZE } from \"../../../config\"\n\nimport { StyledActor } from \"./StyledActor\"\n\nconst Actor = ( {actor} ) => (\n    <StyledActor>\n        <img \n            src= {\n                actor.profile_path\n                ? `${IMAGE_BASE_URL}${POSTER_SIZE}${actor.profile_path}`\n                :\n                NoImage\n            }\n            alt=\"\"\n        />\n        <span className=\"actor-name\">\n            {actor.name}\n        </span>\n        <span className=\"actor-character\">{actor.character}</span>\n    </StyledActor>\n)\n\nActor.propTypes = {\n    actor: PropTypes.object\n}\n\nexport default Actor","/* eslint-disable no-unused-vars */\nimport React, {useState, useContext } from \"react\"\nimport { Link}  from \"react-router-dom\"\nimport axios from \"axios\"\n\n\n//  import context\nimport AuthContext from \"../../../context/Authentication/authenticationContext\"\n\n//  Import styles\nimport \"./Rating.Styles.css\"\n\n\n\nconst Ratings =  (props) => {\n    const authContext = useContext(AuthContext)\n    const {isAuthenticated, user, loadUser} = authContext\n\n    const [loading, setLoading] = useState(false);\n     // eslint-disable-next-line\n    // const [rating, setRating] = useState(-1)\n\n    if(!isAuthenticated){\n        return(\n            <div>\n                {/* <Link to=\"/signin\" className=\"button\">Rate this movie</Link> */}\n            </div>\n        )\n    }\n    \n    const movieID = props.movieID;\n    const userRatings = user.ratings;\n    const userID = user._id;\n\n    let movieRating  = -1\n    for(let i = 0; i<userRatings.length; i++){\n        if (userRatings[i][0] === movieID ){\n            movieRating = userRatings[i][1]\n        }\n    }\n\n    const rateMovie = async (event) => {\n        event.preventDefault()\n        setLoading(true)\n        console.log(\"Rating = \", event.target.rating.value)\n        console.log(\"user id = \", userID)\n        console.log(\"movie id = \", movieID)\n        userRatings.push( [movieID, Number(event.target.rating.value)] )\n        console.log(\"userRatings = \", userRatings)\n        const updatedUser = await axios.post(\"/api/users/update\", {userID, updateField:\"ratings\" , updatedValues:userRatings})\n        console.log(\"updated user = \",  updatedUser )\n        loadUser()\n        setLoading(false)\n    }\n\n    if(loading){\n        return(\n            <div className=\"ratings\">\n\n                Loaging\n            </div>\n        )\n    }\n\n    if (movieRating === -1){\n        //  The user has not yet rated the movie\n        return(\n            <div className=\"ratings\">\n               <p>Rate this Movie</p>\n                    <form onSubmit={rateMovie}>         \n                        <select name=\"rating\" id=\"ratings\">\n                            <option value={1}>1 Star</option>\n                            <option value={2}>2 Star</option>\n                            <option value={3}>3 Star</option>\n                            <option value={4}>4 Star</option>\n                            <option value={5}>5 Star</option>\n                        </select>\n                        <button type=\"submit\" className=\"button\">Rate</button>\n                    </form>\n            </div>\n        )\n    }else{\n        //  user wants to change the rating\n        return(\n            <div className=\"ratings\">\n                <p>Your Rating : {movieRating + \" \"}<i className=\"fa fa-star\" aria-hidden=\"true\"></i></p>\n            </div>\n        )\n    }\n}\n\nexport default Ratings","/* eslint-disable no-unused-vars */\nimport React, {useState, useContext, useEffect} from \"react\"\nimport \"./reviews.styles.css\"\nimport axios from \"axios\"\nimport {Link } from \"react-router-dom\"\n\nimport AuthContext from \"../../../context/Authentication/authenticationContext\"\nimport AlertContext from \"../../../context/AlertContext/AlertContext\"\n\nconst Reviews =   (props) => {\n    \n    const movieID = props.movieID\n    const movie_data = props.movie\n    \n    const authContext = useContext(AuthContext) \n    const {loading, setLoadingtrue, isAuthenticated, user, setLoadingFalse, loadUser} = authContext\n    \n    const alertContext = useContext(AlertContext)\n    const {setAlert} = alertContext\n    \n    const [stateReview, setStateReview] = useState(\"\")\n    const [isReviewed, setIsReviewed] = useState(false)\n    const [readMore, setReadMore] = useState(false)\n\n\n    useEffect( () => {\n        const fetchReview = async () => {\n            if(isAuthenticated){let reviewID = -1\n                for(let i =0; i<user.movies_reviewed.length; i++){\n                    if (user.movies_reviewed[i][0] === String(movieID)){\n                        setIsReviewed(true)\n                        reviewID = user.movies_reviewed[i][1] \n\n                        break\n                    }\n                    \n                }\n                let review = await axios.get(\"/api/reviews/review/\"+reviewID)\n                review = review.data.review \n                setStateReview(review)}\n        }\n        fetchReview()\n    }, [isAuthenticated, user, readMore])\n\n    if (!isAuthenticated){\n        return(<div className=\"review-container\"><div  className=\"SigninLink-container\"><Link to = \"/signin\" className=\"SigninLink\"> Log in to leave a review for this movie</Link></div></div>)\n    }\n    else{\n        const toggleReadMore = () => setReadMore(!readMore)\n        \n        if(isReviewed){      \n            //  if the user has already rated this movie  \n            return(\n                <div className=\"review-container\">\n                    <div className=\"review\">\n                        <p className=\"title\">\n                            <span className=\"first\">\n                                Your Review : \n                            </span>\n                        </p>\n                        <div className=\"review-content\">\n                            {\n                            (stateReview.length > 150 && !readMore) ?\n                                <>\n                                    {(stateReview.slice(0, 150) + \"...   \")}\n                                    <button onClick={toggleReadMore}>\n                                        Read More\n                                    </button>\n                                </>\n                                    :\n                                <>\n                                    {stateReview + \"           \"}\n                                    {\n                                        (stateReview.length > 150 )&& <button onClick={toggleReadMore}> Show Less</button>\n                                    }\n                                </>                     \n                            }\n                        </div>\n                    </div>\n                </div>\n            )\n        }else{\n            //  If the user is logged in and has not rated this movie\n            const handelChange = (event) => {\n                console.log(event.target.name ,  \" ----> \", event.target.value )\n                setStateReview(event.target.value)\n            }\n            const handelSubmit = async (event) => {\n                event.preventDefault()\n                console.log(\"setting loading to true\")\n                setLoadingtrue()\n\n                const data = {\n                    user_id : event.target.user_id.value,\n                    movie_id : event.target.movie_id.value,\n                    review : event.target.review_text.value,\n                    username : event.target.username.value,\n                    movie_data\n                }\n                console.log(\"Data recieved = \", data)\n                if(stateReview.length < 1){\n                    console.log(\"submit cancelled because review.length < 1\")\n                    setAlert(\"please fill in a review to submit\")\n                    return\n                }\n    \n                try {\n                    console.log(\"making the post request\")\n                    const res = await axios.post(\"/api/reviews/addReview\", data)\n                    console.log(\"the response of the post req = \", res.data)\n                    console.log(\"calling load user in the reviews function\" )\n                    loadUser()\n                } catch (error) {\n                    console.log(\"Error in the catch block inn the onSubmit function in the reviews.jsx\")\n                    console.log(\"error = \",  error.message)\n                }\n                setLoadingFalse()\n            }\n\n            if(loading){\n                return(\n                    <div className=\"review-container\">\n                        <div class=\"review\">\n                            Loading\n                        </div>\n                    </div>\n                    ) \n            }else {\n                return(\n                    <div className=\"review-container\">\n                        <div className=\"leave-review-container\">\n                            <form onSubmit={handelSubmit} className=\"leave-review\">\n                                    <input type=\"hidden\" value={user._id} name=\"user_id\"/>\n                                    <input type=\"hidden\"  value={movieID} name=\"movie_id\" />\n                                    <input type=\"hidden\"  value={user.username} name=\"username\"/>\n                                    {/* <input type=\"text\" value = {stateReview} name=\"review_text\" onChange={handelChange}/> */}\n                                    <textarea value = {stateReview} placeholder=\"Leave a review\" name=\"review_text\" onChange={handelChange}>Leave  review</textarea>\n                                    <button type=\"submit\" className=\"selections-item\">Post Review</button>\n                            </form>\n                        </div>\n                    </div>\n                )\n            }\n        }\n    }\n}\n\nexport default Reviews","\nimport {useState, useEffect, useCallback} from \"react\"\nimport axios from \"axios\"\n\nconst useReviewsFetch = (movieID) => {\n    const [state, setState] = useState({})\n    const [loading, setLoading] = useState(true)\n    const [error, setError] = useState(false) \n\n    const fetchData = useCallback(async () => {\n        setError(false)\n        setLoading(true)\n\n        try {\n            console.log(\"movie id in usefetch = \", movieID)\n            const endpoint = \"/api/reviews/movie/\" + movieID\n            const result = await axios.get(endpoint)\n            console.log(\"result ins useFetch = \", result)\n\n            setState({\n                ...result\n            })\n        } catch (error) {\n            console.error(error.message)\n            setError(true)\n        }\n        setLoading(false)\n    }, [movieID])\n\n    useEffect( () => {\n        // if(sessionStorage[movieID + \"review\"] != {}){\n        //     setLoading(false)\n        //     console.log(\"grabbing review for \"+movieID+\" from session storage\")\n        //     setState(JSON.parse(sessionStorage[movieID+\"review\"]))\n        //     setLoading(false)\n        // }else{\n            console.log(\"making an api req for getting the reviews\")\n            fetchData()\n        // }\n    }, [fetchData, movieID])\n\n    useEffect(\n        () => {\n            sessionStorage.setItem(movieID+\"review\", JSON.stringify(state))\n        },\n        [movieID, state]\n    )\n        return [state, loading, error]\n}\n\nexport default useReviewsFetch","import React  from \"react\"\nimport {Link} from \"react-router-dom\"\n\nimport useReviewsFetch from \"../../hooks/useReviewsFetch\"\nimport Spinner from \"../Spinner/Spinner\"\n\nimport \"./ShowReviews..styles.css\"\n\nconst ShowReviews = (props) => {\n    const movieID = props.movieID\n   \n\n    const [movie_reviews, loading, error] = useReviewsFetch(movieID)\n\n    if (error) return <div>Something went wrong</div>\n    if (loading) return <Spinner />\n\n    return(\n        <div className=\"ShowReviews\">\n\n        {\n            movie_reviews.data.length === 0 && <div className=\"reviewBox\"><h1>No Reviews</h1></div>\n        }         \n        {\n            movie_reviews.data.length !== 0 && \n            movie_reviews.data.map(review => (\n            \n            <div className=\"reviewBox\">\n            {\n                console.log(\"Review =???????\", review)\n            }\n                <div className=\"reviewBox-container\">\n                <span className=\"username\">\n                    <Link to={\"/user/\"+review.userID}>\n                        <h3><i className=\"fa fa-user\" aria-hidden=\"true\"></i> {review.username}</h3>\n                    </Link>\n                </span>\n                    <h3>Review</h3>\n                    <p>{review.review}</p>\n                </div>\n            </div>))\n        }   \n        </div>\n    )\n}\n\nexport default ShowReviews","import {useState, useEffect, useCallback} from \"react\"\nimport axios from \"axios\"\n\nconst useFetchSimilarMovies = (movieID) => {\n    const [state, setState] = useState({})\n    const [loading, setLoading] = useState(true)\n    const [error, setError] = useState(false) \n \n    \n    const fetchData = useCallback(async () => {\n        setError(false)\n        setLoading(true)\n        try {\n            const endpoint = \"/api/similarMovies/\" + movieID\n            const result = await axios.get(endpoint)\n            console.log(\"resilt in useFetchFeed = \", result)\n            setState({\n                ...result\n            })\n\n        } catch (error) {\n            console.error(error.message)\n            setError(true)\n        }\n        setLoading(false)\n    }, [movieID])\n\n    useEffect( () => {\n        if(localStorage[movieID+\"similar\"]){\n            setLoading(false)\n            console.log(\"grabbing similar movies for\"+ movieID +\"from local storage\")\n            setState(JSON.parse(localStorage[movieID+\"similar\"]))\n            setLoading(false)\n        }else{\n            console.log(\"making an api req for getting movies similar to \" + movieID)\n            fetchData()\n        }\n    }, [fetchData, movieID])   \n\n    useEffect(\n        () => {\n            \n            localStorage.setItem(movieID+\"similar\",  JSON.stringify(state))\n        },\n        [movieID, state]\n    )\n    return [state, loading, error]\n}\n\nexport default useFetchSimilarMovies","import React from \"react\"\n\nimport useFetchSimilarMovies from \"../../hooks/useFetchSimilarMovies\"\nimport Spinner from \"../Spinner/Spinner\"\nimport Grid from \"../Grid/Grid\"\nimport MovieThubm from \"../MovieThubmnail/MovieThumb\"\nimport NoImage from \"../../images/no_image.jpg\"\nimport {  \n    IMAGE_BASE_URL, BACKDROP_SIZE, \n    POSTER_SIZE, SEARCH_BASE_URL, \n    POPULAR_BASE_URL \n} from \"../../../config\"\n\nimport \"./SimilarMovies.styles.css\"\n\nconst SimilarMovies = (props) => {\n    const movieID = props.movieID\n    const [similarMovies, loading, error] = useFetchSimilarMovies(movieID)\n\n       \n    if (error){\n        return (\n            <div>Something went wrong <br/> \n               this is the error ---- {error}\n            </div>\n        )\n    }\n    if (loading) return <Spinner />\n    return (\n        <div>\n            {console.log(\"Final return = \", similarMovies.data)}\n            <Grid header={\"Similar Movies\"}>\n                {similarMovies.data.map(movie => (\n                    <MovieThubm \n                        key={movie.id}\n                        clickable\n                        image={movie.poster_path ?`${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}`: NoImage}\n                        movieId={movie.id}\n                        movieName={movie.original_title}\n                    />\n                    ))\n                }\n           </Grid>\n        </div>\n    )\n}\n\nexport default SimilarMovies","/* eslint-disable no-unused-vars */\nimport React, { useContext, useEffect, useState } from \"react\"\nimport axios from \"axios\"\n\n\n//  import context\nimport AuthContext from \"../../../context/Authentication/authenticationContext\"\n\n//  importing styles \nimport \"./AddToWatchList.style.css\"\n\nconst AddtoWatchlist = (props) => {\n    const { movieID, movieInfo, tick } = props\n    let [loading, setLoading] = useState(false)\n\n    // console.log(\"Movie iiiid = \", movieID)\n    // console.log(\"MOvie info = \", movieInfo)\n    const [operation, setOperation] = useState(\"addToWatchlist\")\n    // const movie_id = movie_info.id\n    const authContext = useContext(AuthContext)\n    const { isAuthenticated, user, loadUser } = authContext\n    let matchFound\n    let watchlist\n    useEffect(() => {\n\n        if (user) {\n            watchlist = user.watchlist\n            matchFound = user.watchlist.filter(movie => movie.id == movieID)\n            if (matchFound.length > 0) {\n                setOperation(\"removeFromWatchlist\")\n            }\n        }\n    }, [isAuthenticated])\n    if (!isAuthenticated) {\n        return <></>\n    }\n    // console.log(\"user == \", user._id)\n\n    const handelClick = async (event) => {\n        event.preventDefault()\n        // console.clear()\n        setLoading(true)\n        console.log(\"Watchlist == \", user.watchlist)\n        const newmovie = {\n            id: movieInfo.id,\n            poster_path: movieInfo.poster_path,\n            original_title: movieInfo.original_title\n        }\n        watchlist = user.watchlist.filter(movie => movie.id != movieID)\n        console.log(\"operation = \", operation)\n        if (operation == \"addToWatchlist\") {\n            watchlist.unshift(newmovie)\n        } else {\n            watchlist = watchlist.filter(film => film.id != movieInfo.id)\n            console.log(\"new watchlist = \", watchlist)\n        }\n\n        try {\n            const endpoint = \"/api/users/updateWatchlist\"\n            const response = await axios.post(endpoint, {\n                userID: user._id,\n                watchlist\n            })\n\n            console.log(\"response = \", response)\n            matchFound = user.watchlist.filter(movie => movie.id == movieID)\n            if (operation == \"addToWatchlist\") {\n                matchFound = true\n                setOperation(\"removeFromWatchlist\")\n            } else {\n                matchFound = false\n                if (!tick) {\n\n                    setOperation(\"addToWatchlist\")\n                }\n            }\n            setLoading(false)\n            loadUser()\n        } catch (error) {\n            setLoading(false)\n            console.log(\"Error in adding to watchlistv-->\", error.message)\n            loadUser()\n        }\n\n\n    }\n    if (loading) {\n        return (\n            <div className={`watchlist-container ${tick && \"tick\"}`}>\n                <button className={`loading-watchlist-button ${tick && \"tick\"}`} >\n                    {tick ? \":\" : \"Loading\"}\n                </button>\n            </div>\n\n        )\n    }\n    if (operation == \"removeFromWatchlist\") {\n\n        return (\n            <div className={`watchlist-container ${tick && \"tick\"}`}>\n                <button className={`remove-watchlist-button ${tick && \"tick\"}`} onClick={handelClick}>\n                    {tick ? \" - \" : \"Remove from watch list\"}\n                </button>\n            </div>\n        )\n    } else {\n        return (\n            <div className={`watchlist-container ${tick && \"tick\"}`}>\n                <button className={`add-watchlist-button ${tick && \"tick\"}`} onClick={handelClick}>\n                    {tick ? \" + \" : \"Add to watch list\"}\n                </button>\n            </div>\n        )\n    }\n}\n\nexport default AddtoWatchlist\n\n\n\n\n\n\n\n\n\n","import {useState, useEffect, useCallback} from \"react\"\nimport { API_URL, API_KEY } from \"../../config\"\n\nconst useMovieFetch = (movieId) => {\n    const [state, setState] = useState({})\n    const [loading, setLoading] = useState(true)\n    const [error, setError] = useState(false)\n\n    const fetchData = useCallback(async () => {\n        setError(false)\n        setLoading(true)\n\n        try {\n            const endpoint = `${API_URL}movie/${movieId}?api_key=${API_KEY}`\n            const result = await ( await fetch(endpoint) ).json()\n            const creditsEndpoint = `${API_URL}movie/${movieId}/credits?api_key=${API_KEY}`\n            const creditsResult = await ( await fetch(creditsEndpoint) ).json()\n            \n\n\n            const directors =  creditsResult.crew.filter( member => member.job === \"Director\")\n            setState({\n                ...result,\n                actors: creditsResult.cast,\n                directors\n            })\n        } catch (error) {\n            setError(true);\n            console.error(error.message)\n        }\n        setLoading(false)\n    }, [movieId])\n\n    useEffect( () =>{\n        if (localStorage[movieId]){\n            console.log(\"grabbing movie info from local storage\")\n            setState(JSON.parse(localStorage[movieId]))\n            setLoading(false)\n        }else{\n            console.log(\"making api call to tmdb\")\n            fetchData();\n        }\n    }, [fetchData, movieId])\n    \n    useEffect(\n        () => {\n            localStorage.setItem(movieId, JSON.stringify(state))\n        },\n        [movieId, state]\n    )\n    return [state, loading, error]\n}\n\nexport default useMovieFetch","/* eslint-disable no-unused-vars */\nimport React, { useContext, useEffect, useState } from \"react\"\nimport { Link } from \"react-router-dom\"\n//  importing component\nimport Navigation from \"../components/Navigation/Navigation\"\nimport MovieInfo from \"../components/MovieInfo/MovieInfo\"\nimport MovieInfoBar from \"../components/MovieInfoBar/MovieInfoBar\"\nimport Grid from \"../components/Grid/Grid\"\nimport Spinner from \"../components/Spinner/Spinner\"\nimport Actor from \"../components/Actor/Actor\"\nimport Rating from \"../components/Rating/Rating\"\nimport Review from \"../components/Review/reviews\"\nimport Selections from \"../components/selections/selections\"\nimport ShowReviews from \"../components/ShowReviews/ShowReviews\"\nimport SimilarMovies from \"../components/similarMovies/SimilarMovies\"\nimport AddToWatchList from \"../components/AddToWatchList/AddToWatchList\"\n\n//  importing custom hook\nimport useMovieFetch from \"../hooks/useMovieFetch\"\n\n// importing context \nimport AuthContext from \"../../context/Authentication/authenticationContext\"\n\nconst Movie = (props) => {\n    const authContext = useContext(AuthContext)\n    const { isAuthenticated, loadUser, user } = authContext\n    useEffect(() => {\n        loadUser()\n        // eslint-disable-next-line\n    }, [isAuthenticated])\n\n    const [selection, setSelection] = useState(\"Actors\")\n\n    const movieId = props.match.params.movieId\n    const [movie, loading, error] = useMovieFetch(movieId)\n\n    if (error) return <div>Something went wrong</div>\n    if (loading) return <Spinner />\n\n    const handelClick = (event) => {\n        setSelection(event.target.value)\n    }\n    return (\n        <>\n            {/* <Navigation movie={movie.original_title} /> */}\n            <MovieInfo movie={movie} />\n            <MovieInfoBar time={movie.runtime} budget={movie.budget} revenue={movie.revenue} />\n            <Rating movieID={movie.id} />\n            <Review movieID={movie.id} movie={movie} />\n            <Selections handelClick={handelClick} collections={[\"Actors\", \"Reviews\", \"Similar Movies\"]} />\n\n            <AddToWatchList movieID={movie.id} movieInfo={movie} />\n\n            {\n                user &&\n                <div className={`watchlist-container`}>\n                    <Link to={\"/user/\" + user._id}>\n                        <button className=\"loading-watchlist-button \">\n                            Go to Watchlist\n                    </button>\n                    </Link>\n                </div>\n\n            }\n\n            {/* <div className={`watchlist-container `}>\n                <button className={`remove-watchlist-button `} onClick={handelClick}>\n                    <Link to={\"/user/\" + user._id}><div className=\"`add-watchlist-button \">Go to Watchlist</div></Link>\n                </button>\n            </div> */}\n\n            {selection === \"Actors\" && <Grid header=\"Actors\">\n                {\n                    movie.actors.map(actor => (\n                        <Actor key={actor.credit_id} actor={actor} />\n                    ))\n                }\n            </Grid>}\n            {\n                selection === \"Reviews\" && <ShowReviews movieID={movieId} />\n            }\n            {\n                selection === \"Similar Movies\" && <SimilarMovies movieID={movieId} />\n            }\n        </>\n    )\n}\n\nexport default Movie","import React, { useContext, useEffect} from \"react\"\nimport {Link } from \"react-router-dom\"\n\n// importing context \nimport AuthContext from \"../../context/Authentication/authenticationContext\"\n\nconst NotFound = () => {\n    const authContext = useContext(AuthContext)\n    // console.log(\"AuthContext = \", AuthContext)\n    // console.log(\"authContext = \", authContext)\n    const { loadUser} = authContext\n    useEffect(()=>{\n        loadUser()\n     // eslint-disable-next-line\n    }, []) \n    return(\n        <div>\n            <h1>Not Found </h1>\n            <h1>\n                <Link to=\"/\"> \n                    Home\n                </Link>\n            </h1>\n        </div>\n)}\n\nexport default NotFound","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M78,19H22c-6.6,0-12,5.4-12,12v31c0,6.6,5.4,12,12,12h37.2c0.4,3,1.8,5.6,3.7,7.6c2.4,2.5,5.1,4.1,9.1,4 c-1.4-2.1-2-7.2-2-10.3c0-0.4,0-0.8,0-1.3h8c6.6,0,12-5.4,12-12V31C90,24.4,84.6,19,78,19z\",\n  fill: \"#ffffff\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 30,\n  cy: 47,\n  r: 5,\n  fill: \"#42ded6\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  keyTimes: \"0;0.2;1\",\n  values: \"0;1;1\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 50,\n  cy: 47,\n  r: 5,\n  fill: \"#42ded6\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  keyTimes: \"0;0.2;0.4;1\",\n  values: \"0;0;1;1\"\n}));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 70,\n  cy: 47,\n  r: 5,\n  fill: \"#42ded6\"\n}, /*#__PURE__*/React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  repeatCount: \"indefinite\",\n  dur: \"1s\",\n  keyTimes: \"0;0.4;0.6;1\",\n  values: \"0;0;1;1\"\n}));\n\nvar SvgLoading = function SvgLoading(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    style: {\n      margin: \"auto\",\n      background: \"none\",\n      display: \"block\",\n      shapeRendering: \"auto\"\n    },\n    width: \"200px\",\n    height: \"200px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLoading, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/loading.18dadafd.svg\";\nexport { ForwardRef as ReactComponent };","/* eslint-disable no-unused-vars */\nimport React, {useState, useContext, useEffect} from \"react\"\nimport {Link} from \"react-router-dom\"\n// import chalk from \"chalk\"\n\n//  import components\nimport {ReactComponent as LoadingSvg} from '../../images/loading.svg';\nimport {ReactComponent as EggLogo} from \"../../images/egg.svg\";\n\nimport Alerts from \"../Alerts/Alerts\"\n\nimport \"./SignUp.styles.css\"\n\n\n\n//  importing context\nimport AlertContext from \"../../../context/AlertContext/AlertContext\"\nimport AuthContext from \"../../../context/Authentication/authenticationContext\"\n\n//  Helper Function\nconst validateEmail = (email) =>  {\n    var reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{1,4})$/;\n    if (reg.test(email) )\n    {return (true);}else{return false}\n}\n\n//  Helper function\nconst checkAlphabetic = (inputtxt) => {\n    var alphabets = /^[a-zA-Z]+$/;\n    if(inputtxt.match(alphabets)){ return true;}else{ return false; }\n}\n\n\nconst SignUp = (props) =>{\n    \n    const [state, setState] = useState({\n        username:\"\",\n        password:\"\",\n        password2:\"\",\n        fname:\"\",\n        lname:\"\",\n        email:\"\"\n    })\n\n    const [isValid, setIsValid] = useState({\n        email: false,\n        username: false,\n        fname: false,\n        password: false,\n        password2: false\n    })\n    const [isAllowed, setIsAllowed] = useState(false)\n    const [showPassword, setShowPassword] = useState(false)\n    const [showPassword2, setShowPassword2] = useState(false)\n\n    const { username, password, password2, fname, lname, email } = state\n\n    const authContext = useContext(AuthContext)\n    const { register, isAuthenticated, loadUser, setLoadingtrue, setLoadingFalse, loading} = authContext\n    \n    const alertContext = useContext(AlertContext)\n    const setAlert = alertContext.setAlert;\n    \n\n\n   \n    const togglePassword = (event) => {\n        setShowPassword(showPassword=>!showPassword)\n        setTimeout(() => setShowPassword(false) , 6000)\n    } \n    const togglePassword2 = (event) => {\n        setShowPassword2(showPassword2=>!showPassword2)\n        setTimeout(() => setShowPassword2(false) , 6000)\n    } \n\n\n    useEffect( () =>{\n        loadUser();\n        if(isAuthenticated){\n            props.history.push(\"/\");\n        }\n        // eslint-disable-next-line\n    }, [isAuthenticated, props.history])\n\n    useEffect(() => {\n\n        if(isValid[\"email\"]  && isValid[\"username\"] && isValid[\"fname\"] && isValid[\"password\"] && isValid[\"password2\"]){\n            setIsAllowed( () =>  true) \n        }\n        else{\n            setIsAllowed(() => false)\n        }\n\n    }, [isValid])\n\n    const handelChange = (event) => {\n        console.clear()\n\n        let name = event.target.name\n        let value = event.target.value\n\n\n\n        //  in the next if else if statements put the validation statements\n        if(name==\"email\"){\n\n            if(!validateEmail(value)){\n                setIsValid(isValid => ({...isValid, email: false}) )\n            }else{\n                setIsValid(isValid => ({...isValid, email: true}) )\n            }\n\n        }else if(name ==\"username\"){\n\n            if(value.length > 3){\n                setIsValid(isValid => ({...isValid, username: true}) )\n            }else{\n                setIsValid(isValid => ({...isValid, username: false}) )\n            }\n     \n        }else if(name ==\"fname\"){\n\n\n            if(value.length > 0 ){\n                setIsValid(isValid => ({...isValid, fname: true}) )\n            }else{\n                setIsValid(isValid => ({...isValid, fname: false}) )\n            }\n\n        }else if(name ==\"password\"){\n\n            if(value.length < 6){\n                setIsValid(isValid => ({...isValid, password: false}) )\n            }else{\n                setIsValid(isValid => ({...isValid, password: true}) )\n            }\n\n        }else if(name ==\"password2\"){\n\n            if(value.length < 6){\n                setIsValid(isValid => ({...isValid, password2: false}) )\n            }else{\n                setIsValid(isValid => ({...isValid, password2: true}) )\n            }\n\n        }\n\n        //  Now set the state\n        setState(state => ({\n            ...state,\n            [name]: value\n        }))\n    \n    }\n\n    const handelSubmit = async (event) => {\n        console.clear()\n        event.preventDefault()\n        setLoadingtrue()\n        console.log(\"got the data = \", event.target)\n\n        try {\n            const email = event.target.email.value\n            const fname = event.target.fname.value\n            const lname = event.target.lname.value\n            const password = event.target.password.value\n            const password2 = event.target.password2.value\n            const username = event.target.username.value\n            const gener = event.target.gener\n            let generPreference = []\n\n\n            if(username===\"\" || password===\"\" || email===\"\"){\n                setAlert(\"Please enter all the fields\", \"danger\")\n                setLoadingFalse()\n            }else if(password !== password2){\n                setAlert(\"Passwords do not match\", \"danger\")\n                setLoadingFalse()\n            }else if(!checkAlphabetic(fname)){\n                setAlert(\"The First Name must not contain numbers, spaces or special characters\", \"danger\")\n                setLoadingFalse()\n            }\n            else if(password.length < 6){\n                setAlert(\"Password must be atleast 6 characters\")\n                setLoadingFalse()\n            }\n\n            else{\n                setLoadingtrue()\n                console.log(\"---<> making the server request <> ---\")\n                console.log(typeof(register))\n                const response = await register({\n                    email,\n                    fname, lname,\n                    password, password2,\n                    username,\n                    generPreference\n                })\n                console.log(\"response = \", response )\n                const token = response.data.token\n                console.log(\"Token = \", token)\n                setLoadingFalse()\n            }\n           \n        } catch (error) {\n            \n            console.error(\"error message = \", error.message)\n            console.log(\"some error in the catch block  of the signup component \\n\")\n\n        }\n    }\n\n    return(\n        <div className=\"signin-container\">\n            <div className=\"signin\">\n                <EggLogo className=\"eggLogo\"/>\n                <h3>Sign Up to keepwatching.io</h3>\n                <a name=\"#top\" id=\"top\"></a>\n                <form onSubmit={handelSubmit} autocomplete=\"off\">\n                    {/* <CustomImput type=\"email\" name=\"email\" label=\"Email\" handelChange={handelChange} value={email}/> */}\n                    <div className=\"inputField\">\n                        <label className=\"label\" >\n                            <span>Email address</span>\n                            <span className=\"red-font\">*email is required</span>\n                        </label>\n                         <input type=\"email\" name=\"email\" label=\"Email\" onChange={handelChange} value={email} />\n                    </div>\n                    {/* <Cu stomImput type=\"text\" name=\"username\" label=\"Username\" handelChange={handelChange} value={username}/> */}\n                    <div className=\"inputField\">\n                        <label className=\"label\" >\n                            <span>Username</span>\n                            <span className=\"red-font\">*required</span>\n                        </label>\n                         <input type=\"text\" name=\"username\" label=\"Username\" onChange={handelChange} value={username} />\n                    </div>\n                    {/* <CustomImput type=\"text\" name=\"fname\" label=\"First Name\" handelChange={handelChange} value={fname}/> */}\n                    <div className=\"inputField\">\n                        <label className=\"label\" >\n                            <span>First Name</span>\n                            <span className=\"red-font\">*required</span>\n                        </label>\n                         <input type=\"text\" name=\"fname\" label=\"First Name\" onChange={handelChange} value={fname} />\n                    </div>\n                    {/* <CustomImput type=\"text\" name=\"lname\" label=\"Last Namel\" handelChange={handelChange} value={lname}/> */}\n                    <div className=\"lname\">\n                        <label className=\"label\" >\n                            <span>Last Name</span>\n                            <span className=\"red-font\"></span>\n                        </label>\n                         <input type=\"text\" name=\"lname\" label=\"Last Namel\" onChange={handelChange} value={lname} />\n                    </div>\n                    {/* <CustomImput type=\"password\" name=\"password\" label=\"Password\" handelChange={handelChange} value={password}/> */}\n                    <div className=\"inputField\">\n                        <label className=\"label\" >\n                            <span>Password</span>\n                            <span className=\"red-font\">*required</span>\n                        </label>\n                        <input type={showPassword?\"text\":\"password\"} name=\"password\" label=\"Password\" onChange={handelChange} value={password}/>\n                        <div className=\"showPassword\" id=\"showPassEgg\" onClick={togglePassword} ><EggLogo className=\"showPassEgg\"/></div>\n                        {/* <span className={ showTooltip ? \"tooltip\" : \"tooltip notvisible\"} >Show Password</span> */}\n                    </div>\n                    {/* <CustomImput type=\"password\" name=\"password2\" label=\"Confirm Password\" handelChange={handelChange} value={password2}/>     */}\n                    <div className=\"inputField\">\n                        <label className=\"label\" >\n                            <span>Confirm Password</span>\n                            <span className=\"red-font\">*required</span>\n                        </label>\n                        <input type={showPassword2?\"text\":\"password\"} name=\"password2\" label=\"Password\" onChange={handelChange} value={password2}/>\n                        <div className=\"showPassword\" id=\"showPassEgg\" onClick={togglePassword2} ><EggLogo className=\"showPassEgg\"/></div>\n                        {/* <span className={ showTooltip ? \"tooltip\" : \"tooltip notvisible\"} >Show Password</span> */}\n                    </div>\n                    {/* <GenerPreference />           */}\n                        {/* <CustomImput type=\"submit\" name=\"\" label=\"\" handelChange={handelChange} value=\"Sign Up\"/> */}\n                    {\n                        loading ? \n                        <LoadingSvg /> \n                                :\n                        <div className=\"submit-button\">\n                            <a href=\"#top\">\n                                <Alerts />\n                                <input type=\"submit\"  value=\"Sign Up\" className={isAllowed ?\"\" :  \"notAllowed\"}  />\n                            </a>\n                        </div>\n                    }\n                \n                </form>\n                <div className=\"signUpBlock\">\n                    Already  have an account?  <Link to=\"/signin\">Sign In here</Link>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default SignUp","\n/* eslint-disable no-unused-vars */\nimport React, {useState, useContext, useEffect} from \"react\"\nimport {Link} from \"react-router-dom\"\n// import chalk from \"chalk\"\n\n\n//  Importing components\nimport {ReactComponent as LoadingSvg} from '../../images/loading.svg';\nimport {ReactComponent as EggLogo} from \"../../images/egg.svg\"\nimport Alerts from \"../../components/Alerts/Alerts\"\n\n// Importing Context\nimport AuthContext from \"../../../context/Authentication/authenticationContext\"\nimport AlertContext from \"../../../context/AlertContext/AlertContext\"\n\nimport \"./Signin.styles.css\"\n\n//  Helper function\nconst validateEmail = (email) =>  {\n    var reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{1,4})$/;\n    if (reg.test(email) )\n    {return (true);}else{return false}\n}\n \n\nconst SignIn = (props) => {\n    const [state, setState] = useState({\n        email:\"\",\n        password:\"\"\n    })\n    const [isValid, setIsValid] = useState({email: false,password: false})\n    const [isAllowed, setIsAllowed] = useState(false)\n    const [showPassword, setShowPassword] = useState(false)\n    \n    const {email, password} = state;\n\n    const authContext = useContext(AuthContext)\n    const {isAuthenticated, loadUser, login, loading, setLoadingFalse, setLoadingtrue } = authContext\n    \n    const alertContext = useContext(AlertContext)\n    const {setAlert} = alertContext\n\n    const togglePassword = (event) => {\n        setShowPassword(!showPassword)\n        setTimeout(() => setShowPassword(false) , 5000)\n    } \n\n    useEffect(() =>{\n        loadUser()\n        setLoadingFalse()\n        if(isAuthenticated){\n            props.history.push(\"/\")\n        }\n\n    }, [isAuthenticated, props.history])\n\n\n    useEffect( () => {\n\n\n\n        if(isValid[\"email\"] && isValid[\"password\"]){\n            setIsAllowed( () =>  true) \n        }\n        else{\n            setIsAllowed(() => false)\n        }\n    }, [isValid])\n\n    const handelChange = (event) => {\n        console.clear()\n\n        let name = event.target.name\n        let value = event.target.value\n\n\n\n\n        if (name == \"email\"){\n\n            if (!validateEmail(value)){\n                setIsValid(isValid => ({ ...isValid, email:false }) )\n            }\n            else{\n                setIsValid(isValid => ({ ...isValid, email:true }) )\n            }\n\n        }else if (name == \"password\"){\n\n            if(value.length < 6   ){\n                setIsValid(isValid => ({ ...isValid, password:false }) )\n            }\n            else{\n                setIsValid(isValid => ({ ...isValid, password:true }) )\n            }\n    \n        }   \n\n        setState(state => ({\n            ...state,\n            [name]: value\n        }))  \n    }\n\n\n\n\n \n    const handelSubmit = async (event) => {\n        console.clear()\n        event.preventDefault()\n        setLoadingtrue()\n        const email =  event.target.email.value;\n        const password = event.target.password.value;\n\n        try {\n            if (email===\"\" || password.length<6){\n                setAlert(\"All fields must be filled in - \")\n                setLoadingFalse()\n            }\n            const response = await login({\n                email,\n                password\n            })\n            setLoadingFalse()\n        } catch (error) {\n            setLoadingFalse()\n        }\n    }\n\n\n\n    return(\n    <div className=\"signin-container\">\n        <div className=\"signin\">\n            <EggLogo className=\"eggLogo\"/>\n            <h3>Sign in to keepwatching.io</h3>      \n            <form onSubmit={handelSubmit} autocomplete=\"off\">                     \n            <div className=\"inputField\">\n                    <label className=\"label\" >\n                        <span>Email address</span>\n                        <span className=\"red-font\">*required</span>\n                    </label>\n                    <input type=\"email\" name=\"email\" label=\"Email\" onChange={handelChange} value={email} />\n                </div>\n                <div className=\"inputField\">\n                    <label className=\"label\" >\n                        <span>Password</span>\n                        <span className=\"red-font\">*required</span>\n                    </label>\n                    <input type={showPassword?\"text\":\"password\"} name=\"password\" label=\"Password\" onChange={handelChange} value={password}/>\n                    <div className=\"showPassword\" id=\"showPassEgg\" onClick={togglePassword} ><EggLogo className=\"showPassEgg\"/></div>\n                </div>\n                {   loading ? \n                        <LoadingSvg />\n                        :\n                        <div className=\"submit-button\">\n                            <Alerts />\n                            <input type=\"submit\"  value=\"Sign In\" className={isAllowed ?\"\" :  \"notAllowed\"}/>\n                        </div>\n                }\n            </form>\n                <div className=\"signUpBlock\">\n                    Don't  have an account?  <Link to=\"/signup\">Sign Up here</Link>\n                </div>\n        </div>\n    </div>\n    )\n}\n\nexport default SignIn"," /* eslint-disable no-unused-vars */\n import React, {  useEffect, useState} from \"react\"\n import axios from \"axios\"\n\n\n//   importing styles\nimport \"./FullowUnfollowButton.styles.css\"\n\n const FollowUnfollowButton =  (props) => {\n    let {user, nextUser, setFollowing, setFollowers} = props\n    let [loading, setLoading] = useState(true)\n    let [operationType, setOperationType] = useState(\"follow\")\n  \n\n    const user_id = user._id\n    const nextUser_id  = nextUser.data._id\n\n    const user_userName = user.username\n    const next_user_username = nextUser.data.username\n\n    let userFollowers = user.followers\n    let userFollowing = user.following\n\n    let nextFollowers = nextUser.data.followers\n    let nextFollowing = nextUser.data.following\n\n    let updatedUserFollowing = userFollowing;\n    let updatednextFollowers = nextFollowers;\n\n\n    useEffect(()=>{\n        let operationset = false;\n        for(let i =0; i < userFollowing.length ; i++ ){\n            if(userFollowing[i][0] == nextUser_id){\n                console.log(\"user already follows rhe next user thus showing unfollow button\")\n                setLoading(false)\n                setOperationType(\"unfollow\")\n                operationset = true\n                break\n            }\n        }\n        if(!operationset){\n            for(let i =0; i < nextFollowing.length ; i++ ){\n                if(nextFollowing[i][0] == user_id){\n                    if(operationType !=\"unfollow\" ){\n                        console.log(\"operatin type ====> \", operationType)\n                        console.log(\"nrent user showing follow back button\")\n                        setLoading(false)\n                        setOperationType(\"followBack\")\n                        break\n                    }\n                }\n            }\n        }\n        setLoading(false)\n    }, [])\n\n\n\n     const handelClick =async (event) => {\n        setLoading(true)\n        event.preventDefault()\n        // console.clear()\n        console.log(\"Operation type = \", operationType)\n\n        if(operationType == \"follow\" || operationType ==\"followBack\"){\n            updatedUserFollowing = updatedUserFollowing.filter(following => following[0] != nextUser_id)\n            updatednextFollowers = updatednextFollowers.filter(follower => follower[0] != user_id)\n            updatedUserFollowing.unshift([nextUser_id, next_user_username])\n            updatednextFollowers.unshift([user_id, user_userName])\n        }else {\n            updatedUserFollowing = updatedUserFollowing.filter(following => following[0] != nextUser_id)\n            updatednextFollowers = updatednextFollowers.filter(follower => follower[0] != user_id)\n        }\n\n        try{    \n            const endpoint = \"/api/users/follow\"\n            const response = await axios.post(endpoint, {\n                            user_id,nextUser_id, \n                            updatedUserFollowing, updatednextFollowers})\n            setLoading(false)          \n\n            if(operationType == \"follow\" || operationType ==\"followBack\"){\n                setOperationType(\"unfollow\")\n            }else{\n                for(let i =0; i < nextFollowing.length ; i++ ){\n                    if(nextFollowing[i][0] == user_id){\n                        console.log(\"next user follows current user showing follow back button\")\n                        setLoading(false)\n                        setOperationType(\"followBack\")\n                        break\n                    }else{\n                        setOperationType(\"follow\")\n                    }\n                }\n            }\n            setFollowers(followers => updatednextFollowers)\n            \n        }catch{\n            console.log(\"Some error in following the user\")\n        }\n     }\n\n     if(loading){\n         return <button className=\"follow-btn-disabled\" disabled>Loading </button>\n     }else{\n        if(operationType==\"follow\"){\n            return(\n               <button className={\"follow-btn-\" + operationType} onClick={handelClick}>Follow </button>\n            )\n        }else if(operationType == \"followBack\"){\n            return(\n                <button className={\"follow-btn-\" + operationType} onClick={handelClick}>Follow Back</button>\n             )\n        }else{\n            return(\n                <button className={\"follow-btn-unfollow\"} onClick={handelClick}>Unfollow </button>\n             )\n        }\n     }\n}\n\nexport default FollowUnfollowButton","\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\n\n// importing Styles\nimport \"./watchlistgrid.css\"\nconst WatchlistGrid = ({ header, children }) =>(\n    <div className=\"watchlist-grid\">\n        <h1>{header}</h1>\n        <div className=\"watchlist-content\">{children}</div>\n    </div>\n)\n\n\nexport default WatchlistGrid","import {useState, useEffect, useCallback} from \"react\"\nimport axios from \"axios\"\n\nconst useUserReviewsFetch = (userID) => {\n    const [state, setState] = useState({})\n    const [loading, setLoading] = useState(true)\n    const [error, setError] = useState(false) \n\n\n    const fetchData = useCallback(async () => {\n        setError(false)\n        setLoading(true)\n\n        try {\n            console.log(\"user id in usefetch = \", userID)\n            const endpoint = \"/api/reviews/user/\" + userID\n            const result = await axios.get(endpoint)\n            // console.log(\"result ins useFetch = \", result)\n\n            setState({\n                ...result\n            })\n        } catch (error) {\n            console.error(error.message)\n            setError(true)\n        }\n        setLoading(false)\n    }, [userID])\n\n    useEffect( () => {\n        // if(sessionStorage[movieID + \"review\"] != {}){\n        //     setLoading(false)\n        //     console.log(\"grabbing review for \"+movieID+\" from session storage\")\n        //     setState(JSON.parse(sessionStorage[movieID+\"review\"]))\n        //     setLoading(false)\n        // }else{\n            console.log(\"making an api req for getting the reviews\")\n            fetchData()\n        // }\n    }, [fetchData, userID])\n\n    // useEffect(\n    //     () => {\n    //         // sessionStorage.setItem(movieID+\"review\", JSON.stringify(state))\n    //     },\n    //     [userID, state]\n    // )\n        return [state, loading, error]\n}\n\nexport default useUserReviewsFetch","import {useState, useEffect, useCallback} from \"react\"\nimport axios from \"axios\"\n\nconst useUserinformationFetch = (userID) => {\n    const [state, setState] = useState({})\n    const [loading, setLoading] = useState(true)\n    const [error, setError] = useState(false) \n\n\n    const fetchData = useCallback(async () => {\n        setError(false)\n        setLoading(true)\n\n        try {\n            console.log(\"user id in usefetch = \", userID)\n            const endpoint = \"/api/users/\" + userID\n            const result = await axios.get(endpoint)\n            console.log(\"result ins useFetch = \", result)\n\n            setState({\n                ...result\n            })\n        } catch (error) {\n            console.error(error.message)\n            setError(true)\n        }\n        setLoading(false)\n    }, [userID])\n\n    useEffect( () => {\n        // if(sessionStorage[movieID + \"review\"] != {}){\n        //     setLoading(false)\n        //     console.log(\"grabbing review for \"+movieID+\" from session storage\")\n        //     setState(JSON.parse(sessionStorage[movieID+\"review\"]))\n        //     setLoading(false)\n        // }else{\n            console.log(\"making an api req for getting user inforamtion\")\n            fetchData()\n        // }\n    }, [fetchData, userID])\n\n    // useEffect(\n    //     () => {\n    //         // sessionStorage.setItem(movieID+\"review\", JSON.stringify(state))\n    //     },\n    //     [userID, state]\n    // )\n        return [state, loading, error]\n}\n\nexport default useUserinformationFetch","/* eslint-disable no-unused-vars */\nimport React, { useContext, useEffect, useState } from \"react\"\nimport { useParams } from \"react-router\";\nimport { Link } from \"react-router-dom\"\n\nimport {\n\n    IMAGE_BASE_URL, BACKDROP_SIZE,\n    POSTER_SIZE, SEARCH_BASE_URL,\n    POPULAR_BASE_URL\n}\n    from \"../../../config\"\n\n\n//   Imporiting all the components\nimport Spinner from \"../../components/Spinner/Spinner\"\nimport FeedItem from \"../../components/FeedItem/FeedItem.component\"\nimport { ReactComponent as EggLogo } from \"../../images/egg.svg\"\nimport FollowUnfollowButton from \"../../components/FolllowUnfollowButton/FollowUnfollowButton\"\nimport Grid from \"../../components/Grid/Grid\"\nimport MovieThumb from \"../../components/MovieThubmnail/MovieThumb\"\nimport NoImage from \"../../images/no_image.jpg\"\nimport WatchlistGrid from \"../../components/watchlistGrid/watchlistGrid\"\nimport AddToWatchList from \"../../components/AddToWatchList/AddToWatchList\"\n\n// Importing Context \nimport AuthContext from \"../../../context/Authentication/authenticationContext\"\n// import AlertContext from \"../../../context/AlertContext/AlertContext\"\n\n\n//  Inporting hooks\nimport useUserReviewFech from \"../../hooks/useUserReviewsFetch\"\nimport useUserinformationFetch from \"../../hooks/useFetchUserInformation\"\n\n//  Importing styles\nimport \"./UserPage.styles.css\"\n\n\nconst UserPage = (props) => {\n    const { userID } = useParams()\n    const authContext = useContext(AuthContext)\n    const { isAuthenticated, loadUser, user } = authContext\n\n    useEffect(() => {\n\n        // console.clear()\n        loadUser()\n        // eslint-disable-next-line\n    }, [isAuthenticated])\n\n    const [userReviews, loading, error] = useUserReviewFech(userID)\n    const [currentUser, userLoading, userError] = useUserinformationFetch(userID)\n    const [followers, setFollowers] = useState([])\n    const [following, setFollowing] = useState([])\n    useEffect(() => {\n        if (!userLoading) {\n\n            setFollowers(currentUser.data.followers)\n            setFollowing(currentUser.data.following)\n        }\n    }, [userLoading])\n    useEffect(() => {\n        console.log(\"Use effect for followers called\")\n    }, [followers]);\n    if (isAuthenticated) {\n        if (userLoading) {\n            return (\n                <div className=\"user-page-container\">\n                    <Spinner />\n                </div>\n            )\n        } else {\n            // console.clear()\n            // console.log(\"user.followers = <>\", user.following)\n            // console.log(\"currrentuser =<> \", currentUser)\n            // console.log(\"currentuser.followers =<> \", currentUser.data.followers)\n            console.log(\"Followers = \", followers)\n            // console.log(\"following = \", following)\n            return (\n                <div className=\"user-page-container\">\n\n\n                    <div className=\"user-info\">\n\n\n                        <div className=\"displaypic\">\n                            <EggLogo />\n                            {currentUser.data.email != user.email ? <FollowUnfollowButton user={user} nextUser={currentUser} setFollowing={setFollowing} setFollowers={setFollowers} /> : <></>}\n                        </div>\n                        <div class=\"grid-container\">\n                            <div class=\"grid-item\">\n                                <span className=\"first\">\n                                    Username\n                                </span>\n                                <span className=\"second\">\n                                    {currentUser.data && currentUser.data.username}\n                                </span>\n                            </div>\n                            <div class=\"grid-item\">\n                                <span className=\"first\">\n                                    Name\n                                </span>\n                                <span className=\"second\">\n                                    {currentUser.data && currentUser.data.fname} {currentUser && currentUser.lname}\n                                </span>\n                            </div>\n                            <div class=\"grid-item\">\n                                <span className=\"first\">\n                                    Email\n                                </span>\n                                <span className=\"second\">\n                                    {currentUser.data && currentUser.data.email}\n                                </span>\n                            </div>\n                            <div class=\"grid-item\">\n                                <span className=\"first\">\n                                    Followers\n                                </span>\n                                <span className=\"second pl5\">\n                                    {currentUser.data && followers.length}\n                                </span>\n                            </div>\n                            <div class=\"grid-item\">\n                                <span className=\"first\">\n                                    Following\n                                </span>\n                                <span className=\"second pl5\">\n\n                                    {currentUser.data && following.length}\n                                </span>\n                            </div>\n                            <div class=\"grid-item\">\n                                <span className=\"first\">\n                                    Reviewes given\n                                </span>\n                                <span className=\"second pl5\">\n                                    {currentUser.data && currentUser.data.movies_reviewed.length}\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"first-row\">\n                        <div className=\"activity\">\n                            <div className=\"avtivity-title\">\n                                <span>\n                                    Followers\n                                </span>\n                            </div>\n                            <div className=\"userWatchlist\">\n                                <div classNam=\"user-reviews\">\n                                    {\n                                        followers.length > 0 ?\n                                            followers.map(follower => {\n                                                return (\n                                                    <div className=\"styled-border m5 p5\">\n                                                        <Link to={\"/user/\" + follower[0]}><i className=\"fa fa-user\" aria-hidden=\"true\"></i> {follower[1]}</Link>\n                                                    </div>\n                                                )\n                                            })\n                                            :\n                                            <span className=\"second\">No Followers</span>\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"activity\">\n                            <div className=\"avtivity-title\">\n                                <span>\n                                    Following\n                                </span>\n                            </div>\n                            <div className=\"userWatchlist\">\n                                <div classNam=\"user-reviews\">\n                                    {\n                                        following.length > 0 ?\n                                            following.map(follower => {\n                                                return (\n                                                    <div className=\"styled-border m5 p5\">\n                                                        <Link to={\"/user/\" + follower[0]}><i className=\"fa fa-user\" aria-hidden=\"true\"></i> {follower[1]}</Link>\n                                                    </div>\n                                                )\n                                            })\n                                            :\n                                            <span className=\"second\">Not Following any user</span>\n                                    }\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"first-row\">\n\n                        <div className=\"activity\">\n                            <div className=\"avtivity-title\">\n                                <span>\n                                    Recent activity\n                                </span>\n                            </div>\n                            <div className=\"user-reviews\">\n                                {\n                                    loading ?\n                                        <Spinner />\n                                        :\n                                        <>\n                                            {userReviews.data.length > 0 ? userReviews.data.map(review => (\n                                                <FeedItem review={review} />\n                                            ))\n                                                :\n                                                <span className=\"second medium-font pl5\">No Activity</span>\n\n                                            }\n                                        </>\n                                }\n\n                            </div>\n                        </div>\n\n                        <div className=\"activity\">\n                            <div className=\"avtivity-title\">\n                                <span>\n                                    {\n                                        currentUser.data.email == user.email ? \"Watchlist\" : \"Some other Information\"\n                                    }\n                                </span>\n                            </div>\n                            <div className=\"userWatchlist\">\n\n                                {\n                                    currentUser.data.email == user.email ?\n\n                                        (\n                                            user.watchlist ?\n                                                <WatchlistGrid >\n                                                    {\n                                                        user.watchlist.map(movie => {\n                                                            return (\n                                                                <div style={{ position: \"relative\" }}>\n                                                                    <MovieThumb\n                                                                        key={movie.id}\n                                                                        image={movie.poster_path ? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}` : NoImage}\n                                                                        movieId={movie.id}\n                                                                        movieName={movie.original_title}\n                                                                    />\n                                                                    <AddToWatchList movieID={movie.id} movieInfo={movie} tick={true} />\n                                                                </div>\n                                                            )\n                                                        })\n                                                    }\n                                                </WatchlistGrid>\n                                                :\n                                                <span className=\"second\">Wishlist is empty</span>\n                                        ) :\n                                        <></>\n                                }\n                            </div>\n                        </div>\n                    </div>\n\n\n                </div>\n            )\n        }\n    } else {\n        return (\n            <div className=\"user-page-container\">\n                <h1>\n                    <Link to=\"/signin\"> Signin</Link>\n                </h1>\n\n            </div>\n        )\n    }\n}\n\nexport default UserPage","// eslint-disable-next-line\nimport {useContext} from \"react\" \nimport axios from \"axios\"\nimport {\n    REGISTER_SUCCESS,\n    REGISTER_FAIL,\n    USER_LOADED,\n    AUTH_ERROR,\n\tLOGIN_SUCCESS,\n    LOGOUT,\n    CLEAR_ERRORS,\n\tSET_LOADING_FALSE,\n\tSET_LOADING_TRUE,\n\tUPDATE_USER\n  } from '../types';\n\n\n  export default (state, action) => {\n    switch (action.type) {\n\n\t\tcase SET_LOADING_FALSE:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tloading: false\n\t\t\t}\n\t\tcase SET_LOADING_TRUE:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tloading: true\n\t\t\t}\n\t\tcase USER_LOADED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisAuthenticated: true,\n\t\t\t\tloading: false,\n\t\t\t\tuser: action.payload\n\t\t\t};\n\t\tcase REGISTER_SUCCESS:\n\t\tcase LOGIN_SUCCESS:\n\t\t\tlocalStorage.setItem('token', action.payload.token);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payload,\n\t\t\t\tisAuthenticated: true,\n\t\t\t\tloading: false\n\t\t\t};\n      \tcase REGISTER_FAIL:\n\t\tcase AUTH_ERROR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttoken: null,\n\t\t\t\tisAuthenticated: false,\n\t\t\t\tloading: false,\n\t\t\t\tuser: null,\n\t\t\t\terror: action.payload\n\t\t\t};\n\t\tcase LOGOUT:\n\t\t     // eslint-disable-next-line\n\t\t\tdelete axios.defaults.headers.common [\"x-auth-token\"]\n\t\t\tlocalStorage.removeItem('token');\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttoken: null,\n\t\t\t\tisAuthenticated: false,\n\t\t\t\tloading: false,\n\t\t\t\tuser: null,\n\t\t\t\terror: action.payload\n\t\t\t};\n      case CLEAR_ERRORS:\n        return {\n          ...state,\n          error: null\n\t\t};\n\tcase UPDATE_USER:\n\t\treturn{\n\t\t\t...state,\n\t\t\tuser: action.payload\n\t\t}\n      default:\n        return state;\n    }\n  };\n\n","export const SET_ALERT = 'SET_ALERT';\nexport const REMOVE_ALERT = 'REMOVE_ALERT';\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\nexport const USER_LOADED = 'USER_LOADED';\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\nexport const LOGOUT = 'LOGOUT';\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\nexport const SET_LOADING_TRUE = \"SET_LOADING_TRUE\"\nexport const SET_LOADING_FALSE = \"SET_LOADING_FALSE\"\nexport const UPDATE_USER = \"UPDATE_USER\"","/* eslint-disable no-unused-vars */\n\n/* eslint-disable  no-whitespace-before-property */\n\nimport axios from \"axios\"\n\nconst setAuthToken = token=>{\n    if(token){\n        axios.defaults.headers.common [\"x-auth-token\"] = token\n    }else{\n        delete axios.defaults.headers.common [\"x-auth-token\"]\n    }\n}\n\nexport default setAuthToken","\n\n// import React, { useReducer, useContext } from 'react';\nimport React, { useReducer, useContext } from \"react\"\nimport chalk from \"chalk\"\n\nimport AuthContext from './authenticationContext';\nimport authReducer from './authenticationReducer';\n\nimport axios from \"axios\"\nimport { REGISTER_FAIL, REGISTER_SUCCESS, USER_LOADED, \n\t\t\tAUTH_ERROR, LOGIN_SUCCESS, LOGOUT,\n\t\t\tSET_LOADING_TRUE, UPDATE_USER,\n\t\t\tSET_LOADING_FALSE} from '../types';\n\nimport setAthToken from \"../../utils/setAuthToken\"\n// import AlertContext from \"../AlertContext/AlertContext\"\nimport AlertContext from \"../AlertContext/AlertContext\"\n\nconst AuthState = (props) => {\n\n\tconst alertContext = useContext(AlertContext)\n\t// console.log(\"alert Context = \", alertContext)\n\t// console.log(\"SetAlert = \", alertContext.setAlert)\n\tconst  setAlert = alertContext.setAlert \n\tconst initialState = {\n\t\ttoken: localStorage.getItem('token'),\n\t\tisAuthenticated: null,\n\t\tloading: true,\n\t\tuser: null,\n\t\terror: null\n\t};\n\n\tconst [state, dispatch] = useReducer(authReducer, initialState);\n\t\n\tconst setLoadingTrue = () => {\n\t\tdispatch({\n\t\t\ttype: SET_LOADING_TRUE\n\t\t}) \n\t}\n\t\n    //  Load user   ----> check for which user is logged in\n    const loadUser = async () => {\n\t\t//  --------> for authentication to work we need to store the token in global header with key\n\t\t//  ---------> X-auth-token\n\t\t// console.log(\"checking token\")\n\t\tif (localStorage.token){\t\t\t\t//-------> if a token exists in the local storage set it to global header\n\t\t\t// console.log(\"token found \", localStorage.token)\n\t\t\tsetAthToken(localStorage.token);     // ---> utility function  \n\t\t}\n\t\ttry {\n\t\t\tconst res = await axios.get(\"/api/auth\");\t\t// this will add user to the res.data if token is valid\n\t\t\t\n\t\t\t//  this code will run only if above request is successful\n\t\t\tdispatch({\n\t\t\t\ttype: USER_LOADED,\n\t\t\t\tpayload: res.data\n\t\t\t})\n\t\t} catch (error) {\n\t\t\t//  this code will run if the authentication goes wrong\n\t\t\tconsole.error(\"there was an error in the catch block of the loadUser in the authenticationState.jsx\")\n\t\t\tconsole.log(\"ERROR:-\", Error.message )\n\t\t\tconsole.log(\"ERROR:-\", Error )\n\n\t\t\tdispatch({\n\t\t\t\ttype: AUTH_ERROR\n\t\t\t})\n\t\t}\n\t}\n    //  Register user -----> create user and token\n    const register = async formData => {\n\t\tconst config = {\n\t\t\theaders:\n\t\t\t{\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t} \n\t\t}\n\t\t\n\t\tsetLoadingTrue()\n\t\t\n\t\ttry {\n\t\t\tconst res = await axios.post(\"/api/users/\", formData, config)\n\t\t\tdispatch(\n\t\t\t\t{\n\t\t\t\ttype: REGISTER_SUCCESS,\n\t\t\t\tpayload: res.data\n\t\t\t\t}\n\t\t\t)\n\t\t\tloadUser()\n\t\t\tsetLoadingFalse()\n\t\t\treturn res\n\t\t} catch (error) {\n\t\t\tsetLoadingFalse()\n\t\t\tconsole.log(\"ERROR IN authenticationstate.js in the register function catch block\")\n\t\t\tconsole.log(\"error = \", error.response.data.msg)\n\t\t\tsetAlert(error.response.data.msg, \"danger\")\n\t\t\tdispatch({\n\t\t\t\ttype: REGISTER_FAIL,\n\t\t\t\tpayload: error.response.data.msg\n\t\t\t})\n\t\t}\n    }\n\n\n    //  login user  --------> login and create token\n    const login = async (formData) => {\n\t\tconst config = {\n\t\t\theaders:\n\t\t\t{\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t} \n\t\t}\n\t\t\n\t\ttry {\n\t\t\tconst res = await axios.post(\"/api/auth\", formData, config)\n\t\t\tdispatch({\n\t\t\t\ttype: LOGIN_SUCCESS,\n\t\t\t\tpayload: res.data\n\t\t\t})\n\t\t\t\n\t\t\tconsole.log(chalk.green(\"login Successful\"))\n\t\t\t// console.log(chalk.green(\"the response was = \", res))\n\t\t\tloadUser()\n\t\t\tsetLoadingFalse()\n\t\t\treturn res\n\t\t} catch (error) {\n\t\t\tsetAlert(error.response.data.msg, \"danger\")\n\t\t\tsetLoadingFalse()\n\t\t\tconsole.log(\"some error in the catch block of the login function in the AuthState.jsx\")\n\t\t\tconsole.log(\"error --> \", error.message)\n\t\t\tconsole.log(\"Error --> oobjb \", error.response.data.msg)\n\t\t}\n\t}\n\t//  Signin with Google\n\tconst signInWithGoogle = async() => {\n\t\ttry {\n\t\t\tconst res = await axios.get(\"localhost:3000/api/auth/google\")\n\t\t\t// console.log(\"RES.data in signin with google= \", res.data)\n\t\t\tdispatch({\n\t\t\t\ttype: LOGIN_SUCCESS,\n\t\t\t\tpayload: res.data\n\t\t\t})\n\t\t\t\n\t\t} catch (error) {\n\t\t\tconsole.log(\"some error in the catch block of the signinwithGogle function in the AuthState.jsx\")\n\t\t\tconsole.log(\"error --> \", error.message)\n\t\t\t// console.log(\"Error --> \", error.response.data.msg)\n\t\t}\n\n\t}\n    //  logout user --------> Logout the user\n    const logout = () => {\n\t\tdispatch({\n\t\t\ttype: LOGOUT\t\n\t\t})\n\t\tsetLoadingFalse()\n\t}\n\n    // clear errors      --------> clear the errors\n\tconst clearErrors = () => console.log(\"Clear errors\")\n\t\n\t//  Set loading true\n\tconst setLoadingtrue = () =>{\n\t\tdispatch({\n\t\t\ttype: SET_LOADING_TRUE\n\t\t})\n\t}\n\t//  set Loading fasle\nconst setLoadingFalse =() => {\n\tdispatch({\n\t\ttype: SET_LOADING_FALSE\n\t})\n}\n\n// update User\n // eslint-disable-next-line\nconst updateUser = (user) => {\n\tdispatch({\n\t\tactionn: UPDATE_USER,\n\t\tpayload: user\n\t})\n}\n\n\n    return (\n        <AuthContext.Provider\n          value={{\n            token: state.token,\n            isAuthenticated: state.isAuthenticated,\n            loading: state.loading,\n            user: state.user,\n            error: state.error,\n\t\t\tsetLoadingtrue,\n\t\t\tsetLoadingFalse,\n            register,\n            login,signInWithGoogle,\n            logout,\n            clearErrors,\n            loadUser\n          }}\n        >\n          {props.children}\n        </AuthContext.Provider>\n      );\n}\n\nexport default AuthState;\n\n\n\n\n\n\n","import {SET_ALERT, REMOVE_ALERT} from \"../types\"\n\nexport default (state, action) => {\n    switch (action.type){\n        case SET_ALERT:\n            return [...state, action.payload]\n        case REMOVE_ALERT:\n            return state.filter(alert => alert.id !== action.payload)\n        default:\n            return state\n    }\n}","import React,  { useReducer} from \"react\"\nimport { v4 as uuidv4 } from 'uuid';\nimport AlertContext from \"./AlertContext\"\nimport AlertReducer from \"./AlertReducer\"\n\nimport {\n    SET_ALERT,\n    REMOVE_ALERT\n} from \"../types\"\n\n\nconst AlertState = props => {\n    const initialState = [];\n\n    const [state, dispatch] = useReducer(AlertReducer, initialState);\n\n\n  // Set Alert\n  const setAlert = (msg, type, timeout = 5000) => {\n    const id = uuidv4();\n    dispatch({\n      type: SET_ALERT,\n      payload: {msg, type, id},\n    });\n\n    setTimeout(() => dispatch({type: REMOVE_ALERT, payload: id}), timeout);\n  };\n  const removeAlert = (id) => {\n    dispatch({type: REMOVE_ALERT, payload: id})\n  }\n\n    return(\n        <AlertContext.Provider \n          value={{\n            alerts: state, \n            setAlert,\n            removeAlert\n            }}\n          >\n            {props.children}\n        </AlertContext.Provider>\n    )\n\n}\n\nexport default AlertState","import { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyle = createGlobalStyle`\n  body {\n    a{\n      text-decoration: none;\n      color: white;\n    }\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n`;\n","import React, {useEffect}  from 'react';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route\n  } from \"react-router-dom\"\n\n//  Importing components\nimport Header from \"./components/Header/Header\"\nimport Footer from \"./components/Footer/Footer\"\n//  importing page components\nimport Alerts from \"./components/Alerts/Alerts\"\nimport Home from \"./pages/Home\"\nimport Movie from \"./pages/Movie\"\nimport NotFound from \"./pages/NotFound\"\nimport SignUp from \"./components/SignUp/SignUp\"\nimport SignIn from \"./pages/SignIn/Signin\"\nimport Recommendations from \"./pages/recommendations/Recommendations\"\nimport UserPage from \"./pages/UserPage/UserPage\"\n\n// importing states\n // eslint-disable-next-line\nimport AuthState from \"../context/Authentication/AuthenticationState\"\nimport AlertState from \"../context/AlertContext/AlertState\"\n\n\n//  Importing styles\nimport {GlobalStyle} from \"./GlobalStyle\"\n\n//  importing utilities\nimport setAuthToken from \"./../utils/setAuthToken\"\n\nif(localStorage.token){\n    setAuthToken(localStorage.token)\n}\n\nconst App = () =>{\n    useEffect(()=>console.clear(), [])\n    return(\n            <AlertState>\n                <AuthState>\n                    <Router>\n                        <Header />\n                        <Switch>\n                            <Route exact  path=\"/\" component={Home} />\n                            <Route path=\"/movie/:movieId\" component={Movie} />\n                            <Route exact path=\"/signup\"  component={SignUp} />\n                            <Route exact path=\"/signin\" component={SignIn} />\n                            <Route exact path=\"/recommendation\" component={Recommendations} />\n                            <Route exact path=\"/user/:userID\" component={UserPage} />\n                            {/* The next route will be called if none of the above urls match up */}\n                            <Route component={NotFound}/>          \n                        </Switch>\n                        <Footer />        \n                        <GlobalStyle />\n                    </Router>\n                </AuthState>\n            </AlertState>\n    )\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/reactMovie_logo.08494abf.png\";","module.exports = __webpack_public_path__ + \"static/media/tmdb_logo.30cd724b.svg\";"],"sourceRoot":""}